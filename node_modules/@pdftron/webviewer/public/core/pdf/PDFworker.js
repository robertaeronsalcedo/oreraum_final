(function(){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var m=0;return function(){return m<d.length?{done:!1,value:d[m++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,m,g){d!=Array.prototype&&d!=Object.prototype&&(d[m]=g.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var d=0;return function(m){return $jscomp.SYMBOL_PREFIX+(m||"")+d++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.makeIterator=function(d){var m="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return m?m.call(d):$jscomp.arrayIterator(d)};$jscomp.arrayFromIterator=function(d){for(var m,g=[];!(m=d.next()).done;)g.push(m.value);return g};$jscomp.arrayFromIterable=function(d){return d instanceof Array?d:$jscomp.arrayFromIterator($jscomp.makeIterator(d))};
$jscomp.polyfill=function(d,m,g,q){if(m){g=$jscomp.global;d=d.split(".");for(q=0;q<d.length-1;q++){var b=d[q];b in g||(g[b]={});g=g[b]}d=d[d.length-1];q=g[d];m=m(q);m!=q&&null!=m&&$jscomp.defineProperty(g,d,{configurable:!0,writable:!0,value:m})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(d){function m(){this.batch_=null}function g(a){return a instanceof b?a:new b(function(b,f){b(a)})}if(d&&!$jscomp.FORCE_POLYFILL_PROMISE)return d;m.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};m.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var q=$jscomp.global.setTimeout;m.prototype.asyncExecuteFunction=function(a){q(a,
0)};m.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var f=a[b];a[b]=null;try{f()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};m.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var b=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(f){b.reject(f)}};b.prototype.createResolveAndReject_=
function(){function a(a){return function(k){f||(f=!0,a.call(b,k))}}var b=this,f=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var n=null!=a;break a;case "function":n=!0;break a;default:n=!1}n?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(f){this.reject_(f);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)t.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var t=new m;b.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};b.prototype.settleSameAsThenable_=function(a,b){var f=this.createResolveAndReject_();try{a.call(b,f.resolve,f.reject)}catch(k){f.reject(k)}};b.prototype.then=function(a,n){function f(a,f){return"function"==typeof a?function(f){try{k(a(f))}catch(v){r(v)}}:
f}var k,r,y=new b(function(a,f){k=a;r=f});this.callWhenSettled_(f(a,k),f(n,r));return y};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function f(){switch(k.state_){case 1:a(k.result_);break;case 2:b(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?t.asyncExecute(f):this.onSettledCallbacks_.push(f)};b.resolve=g;b.reject=function(a){return new b(function(b,f){f(a)})};b.race=function(a){return new b(function(b,
f){for(var k=$jscomp.makeIterator(a),r=k.next();!r.done;r=k.next())g(r.value).callWhenSettled_(b,f)})};b.all=function(a){var n=$jscomp.makeIterator(a),f=n.next();return f.done?g([]):new b(function(a,b){function k(f){return function(b){h[f]=b;r--;0==r&&a(h)}}var h=[],r=0;do h.push(void 0),r++,g(f.value).callWhenSettled_(k(h.length-1),b),f=n.next();while(!f.done)})};return b},"es6","es3");
$jscomp.checkStringArgs=function(d,m,g){if(null==d)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return d+""};
$jscomp.polyfill("String.prototype.endsWith",function(d){return d?d:function(d,g){var q=$jscomp.checkStringArgs(this,d,"endsWith");d+="";void 0===g&&(g=q.length);g=Math.max(0,Math.min(g|0,q.length));for(var b=d.length;0<b&&0<g;)if(q[--g]!=d[--b])return!1;return 0>=b}},"es6","es3");$jscomp.findInternal=function(d,m,g){d instanceof String&&(d=String(d));for(var q=d.length,b=0;b<q;b++){var t=d[b];if(m.call(g,t,b,d))return{i:b,v:t}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,g){return $jscomp.findInternal(this,d,g).v}},"es6","es3");$jscomp.iteratorFromArray=function(d,m){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var g=0,q={next:function(){if(g<d.length){var b=g++;return{value:m(b,d[b]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};
$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
(function(d){function m(q){if(g[q])return g[q].exports;var b=g[q]={i:q,l:!1,exports:{}};d[q].call(b.exports,b,b.exports,m);b.l=!0;return b.exports}var g={};m.m=d;m.c=g;m.d=function(d,b,t){m.o(d,b)||Object.defineProperty(d,b,{enumerable:!0,get:t})};m.r=function(d){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(d,"__esModule",{value:!0})};m.t=function(d,
b){b&1&&(d=m(d));if(b&8||b&4&&"object"===typeof d&&d&&d.__esModule)return d;var t=Object.create(null);m.r(t);Object.defineProperty(t,"default",{enumerable:!0,value:d});if(b&2&&"string"!=typeof d)for(var a in d)m.d(t,a,function(a){return d[a]}.bind(null,a));return t};m.n=function(d){var b=d&&d.__esModule?function(){return d["default"]}:function(){return d};m.d(b,"a",b);return b};m.o=function(d,b){return Object.prototype.hasOwnProperty.call(d,b)};m.p="/core/pdf/";return m(m.s=13)})([function(d,m,g){g.d(m,
"b",function(){return a});g.d(m,"c",function(){return t});g.d(m,"a",function(){return n});d="undefined"===typeof window?self:window;var q=d._trnDebugMode||d._trnLogMode,b=d._logFiltersEnabled?d._logFiltersEnabled:{},t=function(a,k){k||(k=a,a="default");q&&b[a]&&console.warn(a+": "+k)},a=function(a,k){k||(k=a,a="default");q&&b[a]&&console.log(a+": "+k)},n=function(a){q&&console.error(a);throw Error(a);}},function(d,m,g){g.d(m,"a",function(){return v});g.d(m,"b",function(){return p});g.d(m,"c",function(){return c});
var q=g(0),b=g(11),t="undefined"===typeof window?self:window,a=t.importScripts,n=function(c){if("string"===typeof c){for(var e=new Uint8Array(c.length),p=c.length,a=0;a<p;a++)e[a]=c.charCodeAt(a);return e}return c},f=function(c){if("string"!==typeof c){for(var e="",p=0,a=c.length,x;p<a;)x=c.subarray(p,p+1024),p+=1024,e+=String.fromCharCode.apply(null,x);return e}return c},k=!1,r=function(c,e){k||(a(t.basePath+"decode.min.js"),k=!0);c=self.BrotliDecode(n(c));return e?c:f(c)},y=!1,h=function(c,e){y||
(a(t.basePath+"rawinflate.js",t.basePath+"pako_inflate.min.js"),y=!0);var p=10;if("string"===typeof c){if(c.charCodeAt(3)&8){for(;0!==c.charCodeAt(p);++p);++p}}else if(c[3]&8){for(;0!==c[p];++p);++p}if(e)return c=n(c),c=c.subarray(p,c.length-8),t.pako.inflate(c,{windowBits:-15});c=f(c);c=c.substring(p,c.length-8);return b.a.inflate(c)},A=function(c,e){return e?c:f(c)},l=function(c){var e=!c.shouldOutputArray,p=new XMLHttpRequest;p.open("GET",c.url,c.isAsync);var a=e&&p.overrideMimeType;p.responseType=
a?"text":"arraybuffer";a&&p.overrideMimeType("text/plain; charset=x-user-defined");p.send();var x=function(){var w=Date.now();var x=a?p.responseText:new Uint8Array(p.response);Object(q.b)("worker","Result length is "+x.length);x.length<c.compressedMaximum?(x=c.decompressFunction(x,c.shouldOutputArray),Object(q.b)("worker","Decompressed length is "+x.length),console.warn("There may be some degradation of performance. Your server has not been configured to serve .gz. and .br. files with the expected Content-Encoding. See http://www.pdftron.com/kb_content_encoding for instructions on how to resolve this.")):
e&&(x=f(x));Object(q.b)("worker",c.url+" Decompression took "+(Date.now()-w));return x};if(c.isAsync)var b=new Promise(function(e,a){p.onload=function(){200===this.status?e(x()):a("Download Failed "+c.url)};p.onerror=function(){a("Network error occurred "+c.url)}});else{if(200===p.status)return x();throw Error("Failed to load "+c.url);}return b},v=function(c){var e=c.lastIndexOf("/");-1===e&&(e=0);var p=c.slice(e).replace(".",".br.");return c.slice(0,e)+p},z=function(c,e){var p=c.lastIndexOf("/");
-1===p&&(p=0);var a=c.slice(p).replace(".",".gz.");e.url=c.slice(0,p)+a;e.decompressFunction=h;return l(e)},C=function(c,e){e.url=v(c);e.decompressFunction=r;return l(e)},u=function(c,e){c.endsWith(".js.mem")?c=c.slice(0,-4):c.endsWith(".mem")&&(c=c.slice(0,-4)+".js.mem");e.url=c;e.decompressFunction=A;return l(e)},M=function(c,e,p,a){return c.catch(function(c){console.warn(c);return a(e,p)})},e=function(c,e,p){var a;if(p.isAsync){var w=e[0](c,p);for(a=1;a<e.length;++a)w=M(w,c,p,e[a]);return w}for(a=
0;a<e.length;++a)try{return e[a](c,p)}catch(N){console.warn(N.message)}throw Error("");},c=function(c,p,a,f){var w={};w.compressedMaximum=p;w.isAsync=a;w.shouldOutputArray=f;return e(c,[z,C,u],w)},p=function(c,p,a,f){var w={};w.compressedMaximum=p;w.isAsync=a;w.shouldOutputArray=f;return e(c,[C,z,u],w)}},function(d,m,g){g.d(m,"c",function(){return a});g.d(m,"b",function(){return n});g.d(m,"a",function(){return f});var q="undefined"===typeof window?self:window;d=function(){var a=navigator.userAgent.toLowerCase();
return(a=/(msie) ([\w.]+)/.exec(a)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(a))?parseInt(a[2],10):a}();(function(){var a=q.navigator.userAgent.match(/Chrome\/(.*?) /);return a?parseInt(a[1],10):a})();(function(){var a=q.navigator.userAgent.match(/OPR/),f=q.navigator.userAgent.match(/Maxthon/),b=q.navigator.userAgent.match(/Edge/);return q.navigator.userAgent.match(/Chrome\/(.*?) /)&&!a&&!f&&!b})();navigator.userAgent.match(/Edge/i);m=/iPad|iPhone|iPod/.test(q.navigator.platform)||"MacIntel"===navigator.platform&&
1<navigator.maxTouchPoints;var b=/^((?!chrome|android).)*safari/i.test(q.navigator.userAgent)||/^((?!chrome|android).)*$/.test(q.navigator.userAgent)&&m;q.navigator.userAgent.match(/Firefox/);d||/Android|webOS|Touch|IEMobile|Silk/i.test(navigator.userAgent);navigator.userAgent.match(/(iPad|iPhone|iPod)/i);q.navigator.userAgent.indexOf("Android");var t=/Mac OS X 10_13_6.*\(KHTML, like Gecko\)$/.test(q.navigator.userAgent),a=function(){return b||t},n=!(!self.WebAssembly||!self.WebAssembly.validate),
f=-1<q.navigator.userAgent.indexOf("Edge/16")||-1<q.navigator.userAgent.indexOf("MSAppHost")},function(d,m,g){d.exports=function(){return function n(b,d,a){function f(r,h){if(!d[r]){if(!b[r]){if(k)return k(r,!0);h=Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h;}h=d[r]={exports:{}};b[r][0].call(h.exports,function(a){return f(b[r][1][a]||a)},h,h.exports,n,b,d,a)}return d[r].exports}for(var k=!1,r=0;r<a.length;r++)f(a[r]);return f}({1:[function(b,d,a){var n={}.hasOwnProperty,f=
function(a,f){function b(){this.constructor=a}for(var k in f)n.call(f,k)&&(a[k]=f[k]);b.prototype=f.prototype;a.prototype=new b;a.__super__=f.prototype;return a};a=b("./PriorityQueue/AbstractPriorityQueue");b=b("./PriorityQueue/ArrayStrategy");a=function(a){function b(a){a||(a={});a.strategy||(a.strategy=BinaryHeapStrategy);a.comparator||(a.comparator=function(a,f){return(a||0)-(f||0)});b.__super__.constructor.call(this,a)}f(b,a);return b}(a);a.ArrayStrategy=b;d.exports=a},{"./PriorityQueue/AbstractPriorityQueue":2,
"./PriorityQueue/ArrayStrategy":3}],2:[function(b,d,a){d.exports=function(){function a(a){if(null==(null!=a?a.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=a?a.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new a.strategy(a);this.length=0}a.prototype.queue=function(a){this.length++;this.priv.queue(a)};a.prototype.dequeue=function(a){if(!this.length)throw"Empty queue";this.length--;return this.priv.dequeue()};a.prototype.peek=function(a){if(!this.length)throw"Empty queue";
return this.priv.peek()};a.prototype.remove=function(a){this.priv.remove(a)&&--this.length};a.prototype.find=function(a){return 0<=this.priv.find(a)};a.prototype.removeAllMatching=function(a,b){a=this.priv.removeAllMatching(a,b);this.length-=a};return a}()},{}],3:[function(b,d,a){var n=function(a,b,r){var f;var k=0;for(f=a.length;k<f;){var d=k+f>>>1;0<=r(a[d],b)?k=d+1:f=d}return k};d.exports=function(){function a(a){var b;this.options=a;this.comparator=this.options.comparator;this.data=(null!=(b=
this.options.initialValues)?b.slice(0):void 0)||[];this.data.sort(this.comparator).reverse()}a.prototype.queue=function(a){var b=n(this.data,a,this.comparator);this.data.splice(b,0,a)};a.prototype.dequeue=function(){return this.data.pop()};a.prototype.peek=function(){return this.data[this.data.length-1]};a.prototype.find=function(a){var b=n(this.data,a,this.comparator)-1;return 0<=b&&!this.comparator(this.data[b],a)?b:-1};a.prototype.remove=function(a){a=this.find(a);return 0<=a?(this.data.splice(a,
1),!0):!1};a.prototype.removeAllMatching=function(a,b){for(var f=0,k=this.data.length-1;0<=k;--k)if(a(this.data[k])){var d=this.data.splice(k,1)[0];b&&b(d);++f}return f};return a}()},{}]},{},[1])(1)}();!0},function(d,m,g){(function(d){function b(a,b){this._id=a;this._clearFn=b}var t="undefined"!==typeof d&&d||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;m.setTimeout=function(){return new b(a.call(setTimeout,t,arguments),clearTimeout)};m.setInterval=function(){return new b(a.call(setInterval,
t,arguments),clearInterval)};m.clearTimeout=m.clearInterval=function(a){a&&a.close()};b.prototype.unref=b.prototype.ref=function(){};b.prototype.close=function(){this._clearFn.call(t,this._id)};m.enroll=function(a,b){clearTimeout(a._idleTimeoutId);a._idleTimeout=b};m.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};m._unrefActive=m.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;0<=b&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},
b))};g(17);m.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof d&&d.setImmediate||this&&this.setImmediate;m.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof d&&d.clearImmediate||this&&this.clearImmediate}).call(this,g(5))},function(d,m){m=function(){return this}();try{m=m||(new Function("return this"))()}catch(g){"object"===typeof window&&(m=window)}d.exports=m},function(d,m,g){g.d(m,"b",function(){return n});g.d(m,"a",function(){return k});
var q=g(10),b=g(1),t=g(12),a=g(2);d="undefined"===typeof window?self:window;d.Uint8ClampedArray||(d.Uint8ClampedArray=d.Uint8Array);"undefined"===typeof d.crypto&&(d.crypto={getRandomValues:function(a){for(var b=0;b<a.length;b++)a[b]=256*Math.random()}});var n=function(){return a.b&&!a.a&&!Object(a.c)()},f=function(a){var b=this;this.promise=a.then(function(a){b.response=a;b.status=200})};f.prototype={addEventListener:function(a,b){this.promise.then(b)}};var k=function(a,k,d){if(n()&&!d)Module.instantiateWasm=
function(b,f){return Object(t.a)(Object(q.a)(),a+"Wasm.wasm",b,k["Wasm.wasm"]).then(function(a){f(a)})},d=Object(b.b)(a+"Wasm.js.mem",k["Wasm.js.mem"],!1,!1);else{d=Object(b.b)((Module.asmjsPrefix?Module.asmjsPrefix:"")+a+".js.mem",k[".js.mem"],!1);var h=Object(b.c)((Module.memoryInitializerPrefixURL?Module.memoryInitializerPrefixURL:"")+a+".mem",k[".mem"],!0,!0);Module.memoryInitializerRequest=new f(h)}d=new Blob([d],{type:"application/javascript"});importScripts(URL.createObjectURL(d))}},function(d,
m){function g(){throw Error("setTimeout has not been defined");}function q(){throw Error("clearTimeout has not been defined");}function b(a){if(r===setTimeout)return setTimeout(a,0);if((r===g||!r)&&setTimeout)return r=setTimeout,setTimeout(a,0);try{return r(a,0)}catch(C){try{return r.call(null,a,0)}catch(u){return r.call(this,a,0)}}}function t(a){if(y===clearTimeout)return clearTimeout(a);if((y===q||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(a);try{return y(a)}catch(C){try{return y.call(null,
a)}catch(u){return y.call(this,a)}}}function a(){A&&l&&(A=!1,l.length?h=l.concat(h):v=-1,h.length&&n())}function n(){if(!A){var f=b(a);A=!0;for(var k=h.length;k;){l=h;for(h=[];++v<k;)l&&l[v].run();v=-1;k=h.length}l=null;A=!1;t(f)}}function f(a,b){this.fun=a;this.array=b}function k(){}d=d.exports={};try{var r="function"===typeof setTimeout?setTimeout:g}catch(z){r=g}try{var y="function"===typeof clearTimeout?clearTimeout:q}catch(z){y=q}var h=[],A=!1,l,v=-1;d.nextTick=function(a){var k=Array(arguments.length-
1);if(1<arguments.length)for(var l=1;l<arguments.length;l++)k[l-1]=arguments[l];h.push(new f(a,k));1!==h.length||A||b(n)};f.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions={};d.on=k;d.addListener=k;d.once=k;d.off=k;d.removeListener=k;d.removeAllListeners=k;d.emit=k;d.prependListener=k;d.prependOnceListener=k;d.listeners=function(a){return[]};d.binding=function(a){throw Error("process.binding is not supported");};d.cwd=
function(){return"/"};d.chdir=function(a){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},function(d,m,g){(function(d){function b(a){"function"!==typeof a&&(a=new Function(""+a));for(var e=Array(arguments.length-1),c=0;c<e.length;c++)e[c]=arguments[c+1];l[A]={callback:a,args:e};C(A);return A++}function t(a){delete l[a]}function a(b){if(v)setTimeout(a,0,b);else{var e=l[b];if(e){v=!0;try{var c=e.callback,p=e.args;switch(p.length){case 0:c();break;case 1:c(p[0]);break;case 2:c(p[0],
p[1]);break;case 3:c(p[0],p[1],p[2]);break;default:c.apply(null,$jscomp.arrayFromIterable(p))}}finally{t(b),v=!1}}}}function n(){C=function(b){d.nextTick(function(){a(b)})}}function f(){if(h.postMessage&&!h.importScripts){var a=!0,e=h.onmessage;h.onmessage=function(){a=!1};h.postMessage("","*");h.onmessage=e;return a}}function k(){var b="setImmediate$"+Math.random()+"$",e=function(c){c.source===h&&"string"===typeof c.data&&0===c.data.indexOf(b)&&a(+c.data.slice(b.length))};h.addEventListener?h.addEventListener("message",
e,!1):h.attachEvent("onmessage",e);C=function(c){h.postMessage(b+c,"*")}}function r(){var b=z.documentElement;C=function(e){var c=z.createElement("script");c.onreadystatechange=function(){a(e);c.onreadystatechange=null;b.removeChild(c);c=null};b.appendChild(c)}}function y(){C=function(b){setTimeout(a,0,b)}}var h="undefined"===typeof window?self:window,A=1,l={},v=!1,z=h.document,C,u=Object.getPrototypeOf&&Object.getPrototypeOf(h);u=u&&u.setTimeout?u:h;"[object process]"==={}.toString.call(h.process)?
n():f()?k():z&&"onreadystatechange"in z.createElement("script")?r():y();u.setImmediate=b;u.clearImmediate=t;m.a={setImmediate:b,clearImmediate:t}}).call(this,g(7))},function(d,m,g){var q=g(0);d=function(b,d){this.name=b;this.comObj=d;this.callbackIndex=1;this.postMessageTransfers=!0;this.callbacksCapabilities={};b=this.actionHandler={};this.actionHandlerAsync={};this.nextAsync=null;b.console_log=[function(a){Object(q.b)(a)}];b.console_error=[function(a){Object(q.a)(a)}];b.workerLoaded=[function(a){}];
d.addEventListener("message",this.handleMessage.bind(this))};d.prototype={on:function(b,d,a){var n=this.actionHandler;n[b]&&Object(q.a)('There is already an actionName called "'+b+'"');n[b]=[d,a]},replace:function(b,d,a){this.actionHandler[b]=[d,a]},onAsync:function(b,d,a){var n=this.actionHandlerAsync;n[b]&&Object(q.a)('There is already an actionName called "'+b+'"');n[b]=[d,a]},replaceAsync:function(b,d,a){var n=this.actionHandlerAsync,f=this.actionHandler;f[b]&&delete f[b];n[b]=[d,a]},onNextAsync:function(b){this.nextAsync=
b},send:function(b,d){this.postMessage({action:b,data:d})},getNextId:function(){return this.callbackIndex++},sendWithPromise:function(b,d,a){var n=this.getNextId();b={action:b,data:d,callbackId:n,priority:a};d=createPromiseCapability();this.callbacksCapabilities[n]=d;try{this.postMessage(b)}catch(f){d.reject(f)}return d.promise},sendWithPromiseReturnId:function(b,d,a){var n=this.getNextId();b={action:b,data:d,callbackId:n,priority:a};d=createPromiseCapability();this.callbacksCapabilities[n]=d;try{this.postMessage(b)}catch(f){d.reject(f)}return{promise:d.promise,
callbackId:n}},sendWithPromiseWithId:function(b,d,a,n){d>this.callbackIndex&&Object(q.a)("Can't reuse callbackId "+d+" lesser than callbackIndex "+this.callbackIndex);d in this.callbacksCapabilities&&Object(q.a)("Can't reuse callbackId "+d+". There is a capability waiting to be resolved. ");b={action:b,data:a,callbackId:d};a=createPromiseCapability();this.callbacksCapabilities[d]=a;try{this.postMessage(b)}catch(f){a.reject(f)}return a.promise},sendError:function(b,d){if(b.message||b.errorData){b.message&&
b.message.message&&(b.message=b.message.message);var a=b.errorData;b={type:b.type?b.type:"JavascriptError",message:b.message};a&&Object.keys(a).forEach(function(d){a.hasOwnProperty(d)&&(b[d]=a[d])})}this.postMessage({isReply:!0,callbackId:d,error:b})},getPromise:function(b){if(b in this.callbacksCapabilities)return this.callbacksCapabilities[b];Object(q.a)("Cannot get promise for callback "+b)},cancelPromise:function(b){if(b in this.callbacksCapabilities){var d=this.callbacksCapabilities[b];delete this.callbacksCapabilities[b];
d.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:b}})}else Object(q.c)("Cannot cancel callback "+b)},postMessage:function(b){if(this.postMessageTransfers){var d=this.getTransfersArray(b);this.comObj.postMessage(b,d)}else this.comObj.postMessage(b)},getObjectTransfers:function(b,d){var a=this;null!==b&&"object"===typeof b&&(b instanceof Uint8Array?d.push(b.buffer):b instanceof ArrayBuffer?d.push(b):Object.keys(b).forEach(function(n){b.hasOwnProperty(n)&&
a.getObjectTransfers(b[n],d)}))},getTransfersArray:function(b){var d=[];this.getObjectTransfers(b,d);return 0===d.length?void 0:d},handleMessage:function(b){var d=this,a=b.data,n=this.actionHandler,f=this.actionHandlerAsync;b=this.callbacksCapabilities;if(a.isReply)n=a.callbackId,n in b?(f=b[n],delete b[n],"error"in a?f.reject(a.error):f.resolve(a.data)):Object(q.c)("Cannot resolve callback "+n);else if(a.action in n){var k=n[a.action];a.callbackId?Promise.resolve().then(function(){return k[0].call(k[1],
a.data)}).then(function(b){d.postMessage({isReply:!0,callbackId:a.callbackId,data:b})},function(b){d.sendError(b,a.callbackId)}):k[0].call(k[1],a.data)}else a.action in f?(k=f[a.action],a.callbackId?k[0].call(k[1],a).then(function(b){d.postMessage({isReply:!0,callbackId:a.callbackId,data:b});d.nextAsync()},function(b){d.sendError(b,a.callbackId);d.nextAsync()}):k[0].call(k[1],a).then(function(){d.nextAsync()},function(){d.nextAsync()})):Object(q.a)("Unknown action from worker: "+a.action)}};m.a=d},
function(d,m,g){function q(){return b}g.d(m,"a",function(){return q});var b=34},function(d,m,g){var q=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],n=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,
11,11,12,12,13,13],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=function(){this.list=this.next=null},r=function(){this.n=this.b=this.e=0;this.t=null},y=function(a,b,d,f,h,u){this.BMAX=16;this.N_MAX=288;this.status=0;this.root=null;this.m=0;var l=Array(this.BMAX+1),e,c,p,x=Array(this.BMAX+1),w,z=new r,C=Array(this.BMAX);var n=Array(this.N_MAX);var v=Array(this.BMAX+1),A,y;var g=this.root=null;for(c=0;c<l.length;c++)l[c]=0;for(c=0;c<x.length;c++)x[c]=0;for(c=0;c<C.length;c++)C[c]=null;for(c=
0;c<n.length;c++)n[c]=0;for(c=0;c<v.length;c++)v[c]=0;var q=256<b?a[256]:this.BMAX;var m=a;var t=0;c=b;do l[m[t]]++,t++;while(0<--c);if(l[0]==b)this.root=null,this.status=this.m=0;else{for(p=1;p<=this.BMAX&&0==l[p];p++);var D=p;u<p&&(u=p);for(c=this.BMAX;0!=c&&0==l[c];c--);var J=c;u>c&&(u=c);for(A=1<<p;p<c;p++,A<<=1)if(0>(A-=l[p])){this.status=2;this.m=u;return}if(0>(A-=l[c]))this.status=2,this.m=u;else{l[c]+=A;v[1]=p=0;m=l;t=1;for(w=2;0<--c;)v[w++]=p+=m[t++];m=a;c=t=0;do 0!=(p=m[t++])&&(n[v[p]++]=
c);while(++c<b);b=v[J];v[0]=c=0;m=n;t=0;n=-1;var G=x[0]=0;w=null;for(y=0;D<=J;D++)for(a=l[D];0<a--;){for(;D>G+x[1+n];){G+=x[1+n];n++;y=(y=J-G)>u?u:y;if((e=1<<(p=D-G))>a+1)for(e-=a+1,w=D;++p<y&&!((e<<=1)<=l[++w]);)e-=l[w];G+p>q&&G<q&&(p=q-G);y=1<<p;x[1+n]=p;w=Array(y);for(e=0;e<y;e++)w[e]=new r;g=null==g?this.root=new k:g.next=new k;g.next=null;g.list=w;C[n]=w;0<n&&(v[n]=c,z.b=x[n],z.e=16+p,z.t=w,p=(c&(1<<G)-1)>>G-x[n],C[n-1][p].e=z.e,C[n-1][p].b=z.b,C[n-1][p].n=z.n,C[n-1][p].t=z.t)}z.b=D-G;t>=b?z.e=
99:m[t]<d?(z.e=256>m[t]?16:15,z.n=m[t++]):(z.e=h[m[t]-d],z.n=f[m[t++]-d]);e=1<<D-G;for(p=c>>G;p<y;p+=e)w[p].e=z.e,w[p].b=z.b,w[p].n=z.n,w[p].t=z.t;for(p=1<<D-1;0!=(c&p);p>>=1)c^=p;for(c^=p;(c&(1<<G)-1)!=v[n];)G-=x[n],n--}this.m=x[1];this.status=0!=A&&1!=J?1:0}}},h={Stream:function(a){this.zip_inflate_start();this.zip_inflate_data=a;this.zip_inflate_pos=0}};h.Stream.prototype={getBytes:function(a){for(var b,d=Array(1024),f=[],k=0;k<a&&0<(b=this.zip_inflate_internal(d,0,d.length));)f[f.length]=String.fromCharCode.apply(null,
d.slice(0,b)),k+=b;return k?(this.zip_inflate_data=this.zip_inflate_data.slice(this.zip_inflate_pos),this.zip_inflate_pos=0,f.join("")):""},zip_GET_BYTE:function(){return this.zip_inflate_data.length==this.zip_inflate_pos?-1:this.zip_inflate_data.charCodeAt(this.zip_inflate_pos++)&255},zip_NEEDBITS:function(a){for(;this.zip_bit_len<a;)this.zip_bit_buf|=this.zip_GET_BYTE()<<this.zip_bit_len,this.zip_bit_len+=8},zip_GETBITS:function(a){return this.zip_bit_buf&q[a]},zip_DUMPBITS:function(a){this.zip_bit_buf>>=
a;this.zip_bit_len-=a},zip_inflate_codes:function(a,b,d){var f,k;if(0==d)return 0;for(k=0;;){this.zip_NEEDBITS(this.zip_bl);var l=this.zip_tl.list[this.zip_GETBITS(this.zip_bl)];for(f=l.e;16<f;){if(99==f)return-1;this.zip_DUMPBITS(l.b);f-=16;this.zip_NEEDBITS(f);l=l.t[this.zip_GETBITS(f)];f=l.e}this.zip_DUMPBITS(l.b);if(16==f)this.zip_wp&=32767,a[b+k++]=this.zip_slide[this.zip_wp++]=l.n;else{if(15==f)break;this.zip_NEEDBITS(f);this.zip_copy_leng=l.n+this.zip_GETBITS(f);this.zip_DUMPBITS(f);this.zip_NEEDBITS(this.zip_bd);
l=this.zip_td.list[this.zip_GETBITS(this.zip_bd)];for(f=l.e;16<f;){if(99==f)return-1;this.zip_DUMPBITS(l.b);f-=16;this.zip_NEEDBITS(f);l=l.t[this.zip_GETBITS(f)];f=l.e}this.zip_DUMPBITS(l.b);this.zip_NEEDBITS(f);this.zip_copy_dist=this.zip_wp-l.n-this.zip_GETBITS(f);for(this.zip_DUMPBITS(f);0<this.zip_copy_leng&&k<d;)this.zip_copy_leng--,this.zip_copy_dist&=32767,this.zip_wp&=32767,a[b+k++]=this.zip_slide[this.zip_wp++]=this.zip_slide[this.zip_copy_dist++]}if(k==d)return d}this.zip_method=-1;return k},
zip_inflate_stored:function(a,b,f){var d=this.zip_bit_len&7;this.zip_DUMPBITS(d);this.zip_NEEDBITS(16);d=this.zip_GETBITS(16);this.zip_DUMPBITS(16);this.zip_NEEDBITS(16);if(d!=(~this.zip_bit_buf&65535))return-1;this.zip_DUMPBITS(16);this.zip_copy_leng=d;for(d=0;0<this.zip_copy_leng&&d<f;)this.zip_copy_leng--,this.zip_wp&=32767,this.zip_NEEDBITS(8),a[b+d++]=this.zip_slide[this.zip_wp++]=this.zip_GETBITS(8),this.zip_DUMPBITS(8);0==this.zip_copy_leng&&(this.zip_method=-1);return d},zip_inflate_fixed:function(f,
d,k){if(null==this.zip_fixed_tl){var l,h=Array(288);for(l=0;144>l;l++)h[l]=8;for(;256>l;l++)h[l]=9;for(;280>l;l++)h[l]=7;for(;288>l;l++)h[l]=8;this.zip_fixed_bl=7;l=new y(h,288,257,b,t,this.zip_fixed_bl);if(0!=l.status)return alert("HufBuild error: "+l.status),-1;this.zip_fixed_tl=l.root;this.zip_fixed_bl=l.m;for(l=0;30>l;l++)h[l]=5;this.zip_fixed_bd=5;l=new y(h,30,0,a,n,this.zip_fixed_bd);if(1<l.status)return this.zip_fixed_tl=null,alert("HufBuild error: "+l.status),-1;this.zip_fixed_td=l.root;this.zip_fixed_bd=
l.m}this.zip_tl=this.zip_fixed_tl;this.zip_td=this.zip_fixed_td;this.zip_bl=this.zip_fixed_bl;this.zip_bd=this.zip_fixed_bd;return this.zip_inflate_codes(f,d,k)},zip_inflate_dynamic:function(d,l,k){var h,r,u,v=Array(316);for(h=0;h<v.length;h++)v[h]=0;this.zip_NEEDBITS(5);var e=257+this.zip_GETBITS(5);this.zip_DUMPBITS(5);this.zip_NEEDBITS(5);var c=1+this.zip_GETBITS(5);this.zip_DUMPBITS(5);this.zip_NEEDBITS(4);h=4+this.zip_GETBITS(4);this.zip_DUMPBITS(4);if(286<e||30<c)return-1;for(r=0;r<h;r++)this.zip_NEEDBITS(3),
v[f[r]]=this.zip_GETBITS(3),this.zip_DUMPBITS(3);for(;19>r;r++)v[f[r]]=0;this.zip_bl=7;r=new y(v,19,19,null,null,this.zip_bl);if(0!=r.status)return-1;this.zip_tl=r.root;this.zip_bl=r.m;var p=e+c;for(h=u=0;h<p;){this.zip_NEEDBITS(this.zip_bl);var x=this.zip_tl.list[this.zip_GETBITS(this.zip_bl)];r=x.b;this.zip_DUMPBITS(r);r=x.n;if(16>r)v[h++]=u=r;else if(16==r){this.zip_NEEDBITS(2);r=3+this.zip_GETBITS(2);this.zip_DUMPBITS(2);if(h+r>p)return-1;for(;0<r--;)v[h++]=u}else{17==r?(this.zip_NEEDBITS(3),
r=3+this.zip_GETBITS(3),this.zip_DUMPBITS(3)):(this.zip_NEEDBITS(7),r=11+this.zip_GETBITS(7),this.zip_DUMPBITS(7));if(h+r>p)return-1;for(;0<r--;)v[h++]=0;u=0}}this.zip_bl=9;r=new y(v,e,257,b,t,this.zip_bl);0==this.zip_bl&&(r.status=1);if(0!=r.status)return-1;this.zip_tl=r.root;this.zip_bl=r.m;for(h=0;h<c;h++)v[h]=v[h+e];this.zip_bd=6;r=new y(v,c,0,a,n,this.zip_bd);this.zip_td=r.root;this.zip_bd=r.m;return 0==this.zip_bd&&257<e||0!=r.status?-1:this.zip_inflate_codes(d,l,k)},zip_inflate_start:function(){null==
this.zip_slide&&(this.zip_slide=Array(65536));this.zip_bit_len=this.zip_bit_buf=this.zip_wp=0;this.zip_method=-1;this.zip_eof=!1;this.zip_copy_leng=this.zip_copy_dist=0;this.zip_fixed_tl=this.zip_tl=null},zip_inflate_internal:function(a,b,f){var d;for(d=0;d<f&&(!this.zip_eof||-1!=this.zip_method);){if(0<this.zip_copy_leng){if(0!=this.zip_method)for(;0<this.zip_copy_leng&&d<f;)this.zip_copy_leng--,this.zip_copy_dist&=32767,this.zip_wp&=32767,a[b+d++]=this.zip_slide[this.zip_wp++]=this.zip_slide[this.zip_copy_dist++];
else{for(;0<this.zip_copy_leng&&d<f;)this.zip_copy_leng--,this.zip_wp&=32767,this.zip_NEEDBITS(8),a[b+d++]=this.zip_slide[this.zip_wp++]=this.zip_GETBITS(8),this.zip_DUMPBITS(8);0==this.zip_copy_leng&&(this.zip_method=-1)}if(d==f)break}if(-1==this.zip_method){if(this.zip_eof)break;this.zip_NEEDBITS(1);0!=this.zip_GETBITS(1)&&(this.zip_eof=!0);this.zip_DUMPBITS(1);this.zip_NEEDBITS(2);this.zip_method=this.zip_GETBITS(2);this.zip_DUMPBITS(2);this.zip_tl=null;this.zip_copy_leng=0}switch(this.zip_method){case 0:var k=
this.zip_inflate_stored(a,b+d,f-d);break;case 1:k=null!=this.zip_tl?this.zip_inflate_codes(a,b+d,f-d):this.zip_inflate_fixed(a,b+d,f-d);break;case 2:k=null!=this.zip_tl?this.zip_inflate_codes(a,b+d,f-d):this.zip_inflate_dynamic(a,b+d,f-d);break;default:k=-1}if(-1==k)return this.zip_eof?0:-1;d+=k}return d}};h.inflate=function(a){return(new h.Stream(a)).getBytes(4E9)};m.a=h},function(d,m,g){function q(a){return new Promise(function(b,d){var h=indexedDB.open(f,a);h.onerror=d.bind(null,"Error opening wasm cache database");
h.onsuccess=function(){b(h.result)};h.onupgradeneeded=function(a){var b=h.result;b.objectStoreNames.contains(k)&&(console.log("Clearing out version "+a.oldVersion+" wasm cache"),b.deleteObjectStore(k));console.log("Creating version "+a.newVersion+" wasm cache");b.createObjectStore(k)}})}function b(a,b){return new Promise(function(d,f){var l=a.transaction([k]).objectStore(k).get(b);l.onsuccess=function(a){l.result?d(l.result):f("Module "+b+" was not found in wasm cache")};l.onerror=f.bind(null,"Error getting wasm module "+
b)})}function t(d,f,h,g){function l(a,b){a=a.transaction([k],"readwrite").objectStore(k).put(b,f);a.onerror=function(e){console.log("Failed to store in wasm cache: "+e)};a.onsuccess=function(e){console.log("Successfully stored "+f+" in wasm cache")}}function r(b){y=y||Date.now();return b?(Object(a.b)("load","Try instantiateStreaming"),fetch(Object(n.a)(f)).then(function(a){return WebAssembly.instantiateStreaming(a,h)}).catch(function(b){Object(a.b)("load","instantiateStreaming Failed "+f+" message "+
b.message);return r(!1)})):Object(n.b)(f,g,!0,!0).then(function(b){m=Date.now();Object(a.b)("load","Request took "+(m-y)+" ms");return WebAssembly.instantiate(b,h)})}var m,y;return q(d).then(function(d){return b(d,f).then(function(b){Object(a.b)("Found "+f+" in wasm cache");return WebAssembly.instantiate(b,h)},function(b){Object(a.b)(b);return r(!!WebAssembly.instantiateStreaming).then(function(e){try{Object(a.b)("load","WASM compilation took "+(Date.now()-(m||y))+" ms"),l(d,e.module)}catch(c){}return e.instance})})},
function(a){console.log(a);return r().then(function(a){return a.instance})})}g.d(m,"a",function(){return t});var a=g(0),n=g(1),f="wasm-cache",k="wasm-cache"},function(d,m,g){d.exports=g(14)},function(d,m,g){g.r(m);g(2);g(15);g(16);g(19);g(20);g(21);g(22);g(23)},function(d,m,g){(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(d,b){void 0===d&&(d=0);void 0===b&&(b=this.byteLength);d=Math.floor(d);b=Math.floor(b);0>d&&(d+=this.byteLength);0>b&&(b+=this.byteLength);d=Math.min(Math.max(0,
d),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-d)return new ArrayBuffer(0);var g=new ArrayBuffer(b-d),a=new Uint8Array(g);d=new Uint8Array(this,d,b-d);a.set(d);return g})})(self)},function(d,m,g){(function(d,b){(function(b){function a(){for(var c=0;c<L.length;c++)L[c][0](L[c][1]);L=[];O=!1}function n(c,e){L.push([c,e]);O||(O=!0,B(a,0))}function f(c,e){function a(c){m(e,c)}function p(c){A(e,c)}try{c(a,p)}catch(E){p(E)}}function k(c){var e=c.owner,a=e.state_;e=e.data_;var b=c[a];
c=c.then;if("function"===typeof b){a=p;try{e=b(e)}catch(E){A(c,E)}}r(c,e)||(a===p&&m(c,e),a===x&&A(c,e))}function r(c,e){var a;try{if(c===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"===typeof e||"object"===typeof e)){var p=e.then;if("function"===typeof p)return p.call(e,function(p){a||(a=!0,e!==p?m(c,p):h(c,p))},function(e){a||(a=!0,A(c,e))}),!0}}catch(E){return a||A(c,E),!0}return!1}function m(c,e){c!==e&&r(c,e)||h(c,e)}function h(a,p){a.state_===
e&&(a.state_=c,a.data_=p,n(v,a))}function A(a,p){a.state_===e&&(a.state_=c,a.data_=p,n(z,a))}function l(c){var e=c.then_;c.then_=void 0;for(c=0;c<e.length;c++)k(e[c])}function v(c){c.state_=p;l(c)}function z(c){c.state_=x;l(c)}function t(c){if("function"!==typeof c)throw new TypeError("Promise constructor takes a function argument");if(!1===this instanceof t)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
this.then_=[];f(c,this)}b.createPromiseCapability=function(){var c={},e=new t(function(e,a){c.resolve=e;c.reject=a});c.promise=e;return c};var u=b.Promise,q=u&&"resolve"in u&&"reject"in u&&"all"in u&&"race"in u&&function(){var c;new u(function(e){c=e});return"function"===typeof c}();"undefined"!==typeof exports&&exports?(exports.Promise=q?u:t,exports.Polyfill=t):"function"===typeof define&&g(18)?define(function(){return q?u:t}):q||(b.Promise=t);var e="pending",c="sealed",p="fulfilled",x="rejected",
w=function(){},B="undefined"!==typeof d?d:setTimeout,L=[],O;t.prototype={constructor:t,state_:e,then_:null,data_:void 0,then:function(c,e){c={owner:this,then:new this.constructor(w),fulfilled:c,rejected:e};this.state_===p||this.state_===x?n(k,c):this.then_.push(c);return c.then},"catch":function(c){return this.then(null,c)}};t.all=function(c){if("[object Array]"!==Object.prototype.toString.call(c))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,a){function p(c){d++;
return function(a){b[c]=a;--d||e(b)}}for(var b=[],d=0,f=0,w;f<c.length;f++)(w=c[f])&&"function"===typeof w.then?w.then(p(f),a):b[f]=w;d||e(b)})};t.race=function(c){if("[object Array]"!==Object.prototype.toString.call(c))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,a){for(var p=0,b;p<c.length;p++)(b=c[p])&&"function"===typeof b.then?b.then(e,a):e(b)})};t.resolve=function(c){return c&&"object"===typeof c&&c.constructor===this?c:new this(function(e){e(c)})};
t.reject=function(c){return new this(function(e,a){a(c)})}})("undefined"!==typeof window?window:"undefined"!==typeof b?b:"undefined"!==typeof self?self:void 0)}).call(this,g(4).setImmediate,g(5))},function(d,m,g){(function(d,b){(function(d,a){function n(c){delete z[c]}function f(c){if(q)setTimeout(f,0,c);else{var e=z[c];if(e){q=!0;try{var b=e.callback,d=e.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(a,d)}}finally{n(c),
q=!1}}}}function k(){t=function(c){b.nextTick(function(){f(c)})}}function r(){if(d.postMessage&&!d.importScripts){var c=!0,e=d.onmessage;d.onmessage=function(){c=!1};d.postMessage("","*");d.onmessage=e;return c}}function m(){var c="setImmediate$"+Math.random()+"$",e=function(e){e.source===d&&"string"===typeof e.data&&0===e.data.indexOf(c)&&f(+e.data.slice(c.length))};d.addEventListener?d.addEventListener("message",e,!1):d.attachEvent("onmessage",e);t=function(e){d.postMessage(c+e,"*")}}function h(){var c=
new MessageChannel;c.port1.onmessage=function(c){f(c.data)};t=function(e){c.port2.postMessage(e)}}function g(){var c=u.documentElement;t=function(e){var a=u.createElement("script");a.onreadystatechange=function(){f(e);a.onreadystatechange=null;c.removeChild(a);a=null};c.appendChild(a)}}function l(){t=function(c){setTimeout(f,0,c)}}if(!d.setImmediate){var v=1,z={},q=!1,u=d.document,t,e=Object.getPrototypeOf&&Object.getPrototypeOf(d);e=e&&e.setTimeout?e:d;"[object process]"==={}.toString.call(d.process)?
k():r()?m():d.MessageChannel?h():u&&"onreadystatechange"in u.createElement("script")?g():l();e.setImmediate=function(c){"function"!==typeof c&&(c=new Function(""+c));for(var e=Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];z[v]={callback:c,args:e};t(v);return v++};e.clearImmediate=n}})("undefined"===typeof self?"undefined"===typeof d?this:d:self)}).call(this,g(5),g(7))},function(d,m){d.exports={}},function(d,m,g){(function(d){var b=function(b,a){var d=function(b){b=this.catch(b);
return{cancel:a,promise:b,then:f.bind(b),catch:d.bind(b)}},f=function(b,r){b=this.then(b,r);return{cancel:a,promise:b,then:f.bind(b),catch:d.bind(b)}};return{cancel:a,promise:b,then:f.bind(b),catch:d.bind(b)}};d.CancellablePromise=function(d,a){var n=!1,f,k=new Promise(function(b,k){f=function(){n||(a(),k("cancelled"))};(new Promise(d)).then(function(a){n=!0;b(a)},function(a){n=!0;k(a)})});return b(k,f)};d.CancellablePromise.all=function(d){var a=Promise.all(d);return b(a,function(){d.forEach(function(a){a.cancel&&
a.cancel()})})}})("undefined"===typeof self?void 0:self)},function(d,m,g){(function(d,b){var m=g(0);(function(a){a.Module={TOTAL_MEMORY:50331648,noExitRuntime:!0,devicePixelRatio:1,cur_doc:null,cachePtrSize:0,hasBufOwnership:!0,loaded:!1,initCb:null,cachePtr:null,cleanupState:null,docs:{},postEvent:function(a,b,d){Module.workerMessageHandler.send("event",{docId:a,type:b,data:d})},postPagesUpdatedEvent:function(a,b,d){a={pageDimensions:Module.GetPageDimensions(a)};if(d)for(var f=0;f<d.length;++f)d[f]in
a.pageDimensions?a.pageDimensions[d[f]].contentChanged=!0:console.warn("Invalid Page Number "+d[f]);Module.postEvent(b,"pagesUpdated",a);return a},GetIndividualPageDimensions:function(a,b,d){a=Module.PageGetPageInfo(d);a.id=Module.PageGetId(d);return a},GetPageDimensionsRange:function(a,b,d){for(var f={},k=Module.PDFDocGetPageIterator(a,b);b<d&&Module.IteratorHasNext(k);++b){var h=Module.stackSave(),n=Module.IteratorCurrent(k);f[b]=this.GetIndividualPageDimensions(a,b,n);Module.IteratorNext(k);Module.stackRestore(h)}return f},
GetPageDimensions:function(a){try{var b=Module.stackSave(),d=Module.GetPageCount(a);if(0===d)throw"This document has no pages.";return Module.GetPageDimensionsRange(a,1,d+1)}finally{Module.stackRestore(b)}},loadDoc:function(a,b){"undefined"===typeof Module&&this._main();var d=null;try{var f=Module.stackSave();b=Module.CreateDoc(a,b);var n=Module.GetDoc(b);if(Module.PDFDocInitSecurityHandler(n))return{docId:b,pageDimensions:Module.GetPageDimensions(n)};d={type:"NeedsPassword",errorData:{docId:b},message:"This document requires a password"}}catch(h){d=
{type:"InvalidPDF",message:h}}finally{Module.stackRestore(f)}throw d;},loadCanvas:function(a,b,d,r,m,h,g,l){return new Promise(function(f,k){var n=Module.GetDoc(a),u=b+1,v=function(){f(Module.RasterizePage(n,u,d,r,h,m,g,l))},e=Module.docs[a].chunkStorage;if(e){var c=Module.GetDownloadData(n).downloader,p=e.getRequiredChunkOffsetArrays(c,u);e.keepChunks(p.have);c=function(){var c=e.getChunks(p.missing);Module.loadPromise=c.then(function(){var c=Module.loadPromise.cancelled;Module.loadPromise=null;
c||v()}).catch(function(c){"cancelled"!==c?k(c):Module.loadPromise=null})};Module.loadPromise?Module.loadPromise.then(c,c):c()}else v()})},loadResources:function(a,b){Module.Initialize(b);Object(m.b)("worker","PDFNet initialized!");Module._TRN_PDFNetSetDefaultDiskCachingEnabled(!1);a=new Uint8Array(a);Module.PDFNetSetResourceData(a)},onRuntimeInitialized:function(){"undefined"===typeof Module&&(("undefined"!==typeof window?window:self).Module={});(function(n){n.PDFDocExportXFDF=function(a,b){a=Module.GetDoc(a);
var d=Module.stackSave();try{var f=b?Module.PDFDocFDFExtract(a,b):Module.PDFDocFDFExtract(a);var k=Module.FDFDocSaveAsXFDF(f);Module.stackRestore(d)}catch(A){throw Module.stackRestore(d),A;}return k};n.PageArrayToPageSet=function(a){var b=Module.stackSave();try{var d=Module.PageSetCreate();for(var f=0;f<a.length;++f)Module.PageSetAddPage(d,a[f]);Module.stackRestore(b)}catch(h){throw Module.stackRestore(b),h;}return d};n.cancelCurrent=function(){var a=Module.loadPromise;return a?(a.cancel(),a.cancelled=
!0):(a=Module.cleanupState)?(d(a.timeout),a.cleanupArr.forEach(function(a){a()}),Module.cleanupState=null,!0):!1};n.SetWorkerRestartCallback=function(a){Module.workerRestartCallback=a};n.XFDFMerge=function(a,b){if(b){var d=[];try{Object(m.b)("worker","Merge XFDF of length "+b.length);var f=Module.GetUStringFromJSString(b,!0);d.push(function(){Module.UStringDestroy(f)});var k=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_FDFDocCreateFromXFDF(f,k));var n=Module.getValue(k,"i8*");d.push(function(){Module.FDFDocDestroy(n)});
REX(Module._TRN_PDFDocFDFUpdate(a,n))}finally{d.forEach(function(a){a()})}}};n.MergeXFDF=function(a,b){return new Promise(function(d,f){var k=[];try{var r=Module.stackSave();k[k.length]=function(){Module.stackRestore(r)};var l=Module.GetDoc(a);Module.XFDFMerge(l,b);k.forEach(function(a){a()});d({})}catch(v){k.forEach(function(a){a()}),f(v)}})};n.CreateBufferFile=function(a,b){Module.MakeDev(a);var d=new ArrayBuffer(b);d=new Uint8Array(d);for(var f=0;f<b;++f)d[f]=255;Module.docs[a]={buffer:d}};n.ReadBufferFile=
function(a,b){var d=Module.docs[a].buffer;b&&(b=new Uint8Array(d.buffer.slice(0)),Module.docs[a].buffer=b);return d};n.RemoveBufferFile=function(a){Module.docs[a]=null};n.SaveHelper=function(a,b,d){d="undefined"===typeof d?2:d;Module.MakeDev(b);a=Module._TRN_PDFDocSave(a,Module.GetUStringFromJSString(b),d,0);Module.docs[b].sink=null;REX(a);return Module.docs[b].buffer.buffer};n.SaveDoc=function(b,d,r,n,h,m){return new Promise(function(f,k){var l=Module.GetDoc(b),g=[];try{l=Module.GetDoc(b);var u=
Module.stackSave();g[g.length]=function(){Module.stackRestore(u)};Module.XFDFMerge(l,d);for(var v=Module.PDFDocGetPageIterator(l,1);Module.IteratorHasNext(v);){var e=Module.IteratorCurrent(v);try{for(var c=Module.PageGetNumAnnots(e);0<c;){var p=Module.PageGetAnnot(e,--c);Module.AnnotHasAppearance(p)||Module.AnnotRefreshAppearance(p)}}catch(D){Module.ObjErase(e,"Annots")}Module.IteratorNext(v)}if(m){c=function(c){c=new Uint8Array(c);a.FS.writeFile("watermarkFile",c);c=Module.ImageCreateFromFile(l,
Module.GetUStringFromJSString("watermarkFile"));a.FS.unlink("watermarkFile");return c};var x=Module.ElementBuilderCreate();g.push(function(){Module.ElementBuilderDestroy(x)});var w=Module.ElementWriterCreate();g.push(function(){Module.ElementWriterDestroy(w)});try{if(!m.hasOwnProperty("default"))throw Error("Watermark dictionary has no 'default' key!");var B=c(m["default"]);v=Module.PDFDocGetPageIterator(l,1);for(p=-1;Module.IteratorHasNext(v);){e=Module.IteratorCurrent(v);Module.IteratorNext(v);
p++;var q=p.toString();try{if(m.hasOwnProperty(q)){var A=m[q];if(A)var t=c(A);else continue}else t=B;var y=Module.PageGetPageInfo(e),I=Module.ElementBuilderCreateImage(x,t,0,0,y.width,y.height);Module.ElementWriterBegin(w,e);Module.ElementWriterWritePlacedElement(w,I);Module.ElementWriterEnd(w)}catch(D){console.warn("Watermark for page "+q+"can not be added due to error: "+D)}}}catch(D){console.warn("Watermarks can not be added due to error: "+D)}}v=0;if(n){var F=Module.PDFDocGetRoot(l);(v=Module.ObjFindObj(F,
"OpenAction"))&&Module.ObjPut(F,"__OpenActionBackup__",v);var E=Module.ObjPutDict(F,"OpenAction");Module.ObjPutName(E,"Type","Action");Module.ObjPutName(E,"S","JavaScript");Module.ObjPutString(E,"JS","this.print()")}var H=Module.SaveHelper(l,b,h);n&&(v?Module.ObjPut(F,"OpenAction",Module.ObjFindObj(F,"__OpenActionBackup__")):Module.ObjErase(F,"OpenAction"));g.forEach(function(c){c()});if(r)f({fileData:H});else{var K=H.slice(0);f({fileData:K})}}catch(D){g.forEach(function(c){c()}),k(D)}})};n.SaveDocFromFixedElements=
function(a,b,d){a=Module.PDFDocCreateFromLayoutEls(a);a=Module.CreateDoc({type:"ptr",value:a});return Module.SaveDoc(a,b,!0,!1,d)};n.GetCurrentCanvasData=function(a){var b=Module.currentRenderData;if(!b)return null;a&&REX(Module._TRN_PDFRasterizerUpdateBuffer(b.rast));var d=Date.now();a=Module.ReadBufferFile("b",a);Object(m.b)("bufferTiming","Copy took "+(Date.now()-d));return{pageBuf:a.buffer,pageWidth:b.out_width,pageHeight:b.out_height}};n.RasterizePage=function(a,d,r,n,h,g,l,v){return new Promise(function(f,
k){Module.currentRenderData={};var u=Module.currentRenderData;u.out_width=parseInt(r,10);u.out_height=parseInt(n,10);var q=[];q.push(function(){Module.currentRenderData=null});try{var e=Module.stackSave();q[q.length]=function(){Module.stackRestore(e)};var c=Module.GetPage(a,d),p=Module.PageGetPageWidth(c),x=Module.PageGetPageHeight(c);u.stride=4*u.out_width;u.buf_size=u.out_width*u.out_height*4;Object(m.b)("Memory","Created rasterizer");u.rast=Module.PDFRasterizerCreate();q.push(function(){Object(m.b)("Memory",
"Destroyed rasterizer");Module._TRN_PDFRasterizerDestroy(u.rast)});if(l){var w=Module.EMSCreateUpdatedLayersContext(a,l);0!==w&&(Module._TRN_PDFRasterizerSetOCGContext(u.rast,w),q.push(function(){Module._TRN_OCGContextDestroy(w)}))}var B=Module.PageGetRotation(c),z=1===g||3===g;B=(1===B||3===B)!==z;var t=Module.allocate(48,"i8",Module.ALLOC_STACK);if(h){h.x1=h[0];h.y1=h[1];h.x2=h[2];h.y2=h[3];var A=Module.PageGetDefaultMatrix(c,0),y=Module.Matrix2DInverse(A);h=Module.Matrix2DMultBBox(y,h);if(h.x2<
h.x1){var C=h.x1;h.x1=h.x2;h.x2=C}h.y2<h.y1&&(C=h.y1,h.y1=h.y2,h.y2=C);var F=u.out_width/(B?h.y2-h.y1:h.x2-h.x1);var E=Module.GetDefaultMatrixBox(c,h,g)}else E=Module.PageGetDefaultMatrix(c,g),F=u.out_width/(z?x:p);Module.Matrix2DSet(t,F,0,0,F,0,0);Module.Matrix2DConcat(t,E);Object(m.b)("Memory","Allocated buffer of "+u.buf_size);q.push(function(){Object(m.b)("Memory","Deallocated buffer of "+u.buf_size);Module._free(u.bufPtr)});var H=Module.allocate(4,"i8",Module.ALLOC_STACK),K=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerSetDrawAnnotations(u.rast,0));Module.CreateBufferFile("b",u.buf_size);q.push(function(){Module.RemoveBufferFile("b")});if(10===v){REX(Module._TRN_PDFRasterizerSetOverprint(u.rast,1));var D=Module.PDFRasterizerRasterizeSeparations(u.rast,c,u.out_width,u.out_height,t,0,0);f({pageBuf:D,pageWidth:u.out_width,pageHeight:u.out_height})}else{REX(Module._TRN_PDFRasterizerSetOverprint(u.rast,v));REX(Module._TRN_PDFRasterizerGetChunkRendererPath(u.rast,
c,Module.GetUStringFromJSString("b"),u.out_width,u.out_height,!0,t,0,0,0,H));var J=Module.getValue(H,"i8*");q.splice(1,0,function(){REX(Module._TRN_ChunkRendererDestroy(J))})}var G=(new Date).getTime(),Q=function(){try{for(var c=0,a=(new Date).getTime(),e=!1;200>c;){REX(Module._TRN_ChunkRendererRenderNext(J,K));if(!Module.getValue(K,"i8*")){e=!0;break}c=(new Date).getTime()-a}if(e){var p=Module.GetCurrentCanvasData(!1);Object(m.b)("worker","Total Page Time "+((new Date).getTime()-G));q.forEach(function(c){c()});
f(p)}else Module.cleanupState.timeout=b(Q,0)}catch(S){q.forEach(function(c){c()}),k(S)}},T=b(Q,0);Module.cleanupState={cleanupArr:q,timeout:T};q.push(function(){Module.cleanupState=null})}catch(R){q.forEach(function(c){c()}),k(R)}})};n.GetDestinationVPosHPos=function(a){var b=0,d=0,f=!1,h=!1,n=Module.DestinationGetPage(a),l=Module.DestinationGetExplicitDestObj(a);n=Module.PageGetDefaultMatrix(n);n=Module.Matrix2DInverse(n);var m=Module.Matrix2DMult(n,{x:d,y:b});d=m.x;b=m.y;try{switch(Module.DestinationGetFitType(a)){case 2:case 6:var g=
Module.ObjGetAt(l,2);Module.ObjIsNumber(g)&&(b=Module.ObjGetNumber(g),f=!0);break;case 0:g=Module.ObjGetAt(l,2);Module.ObjIsNumber(g)&&(d=Module.ObjGetNumber(g),h=!0);g=Module.ObjGetAt(l,3);Module.ObjIsNumber(g)&&(b=Module.ObjGetNumber(g),f=!0);break;case 4:g=Module.ObjGetAt(l,2);Module.ObjIsNumber(g)&&(d=Module.ObjGetNumber(g),h=!0);g=Module.ObjGetAt(l,5);Module.ObjIsNumber(g)&&(b=Module.ObjGetNumber(g),f=!0);break;case 3:case 7:g=Module.ObjGetAt(l,2),Module.ObjIsNumber(g)&&(d=Module.ObjGetNumber(g),
h=!0)}m=Module.Matrix2DMult(n,{x:d,y:b});d=m.x;b=m.y;f||(b=0);h||(d=0)}catch(C){d=b=0}return{hpos:d,vpos:b}};n.FillBookmarkTree=function(a,b){for(var d=Module.stackSave(),f=0;Module.BookmarkIsValid(a);a=Module.BookmarkGetNext(a),++f)try{var h=[];if(Module.BookmarkHasChildren(a)){var k=Module.BookmarkGetFirstChild(a);Module.FillBookmarkTree(k,h)}var l=Module.BookmarkGetTitle(a);h={children:h,name:l};var g=Module.BookmarkGetAction(a);if(Module.ActionIsValid(g)){var n=Module.ActionGetType(g);if(0===
n){var m=Module.ActionGetDest(g);if(Module.DestinationIsValid(m)){var u=Module.DestinationGetPage(m);if(Module.PageIsValid(u)){var q=Module.PageGetIndex(u);if(0<q){h.pageNumber=q;var e=Module.GetDestinationVPosHPos(m);h.verticalOffset=e.vpos;h.horizontalOffset=e.hpos}}}}else if(5===n){var c=Module.ObjFindObj(g,"URI");c&&(h.url=Module.ObjGetAsPDFText(c))}}b[b.length]=h}catch(p){}Module.stackRestore(d)};n.LoadBookmarks=function(a){a=Module.GetDoc(a);var b=[],d=Module.stackSave();try{var f=Module.PDFDocGetFirstBookmark(a);
Module.BookmarkIsValid(f)&&Module.FillBookmarkTree(f,b)}catch(h){}Module.stackRestore(d);return{bookmarks:b}};n.UpdatePassword=function(a,b){try{var d=Module.stackSave(),f=Module.GetDoc(a);return Module.PDFDocInitStdSecurityHandler(f,b)?(f in downloadDataMap&&REX(Module._TRN_PDFDocDownloaderInitialize(f,downloadDataMap[f].downloader)),{success:!0,pageDimensions:Module.GetPageDimensions(f)}):{success:!1}}finally{Module.stackRestore(d)}};n.GetTextData=function(a,b){return new Promise(function(d,f){var h=
b+1,k=Module.GetDoc(a),l=[];try{var g=Module.stackSave();l[l.length]=function(){Module.stackRestore(g)};var n=Module.GetPage(k,h),m=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorCreate(m));var r=Module.getValue(m,"i8*");l[l.length]=function(){Module._TRN_TextExtractorDestroy(r)};REX(Module._TRN_TextExtractorBegin(r,n,0,1));var q=Module.allocate(48,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetDefaultMatrix(n,!0,1,0,q));var e=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorGetQuads(r,
q,0,e));var c=Module.getValue(e,"i8*"),p=Module._malloc(8*c);l[l.length]=function(){Module._free(p)};REX(Module._TRN_TextExtractorGetQuads(r,q,p,e));var x=Module.GetJSDoubleArrFromCore(p,c),w=Module.allocate(4,"i8",Module.ALLOC_STACK),B=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_UStringCreate(B));l[l.length]=function(){Module._TRN_UStringDestroy(t)};var t=Module.getValue(B,"i8*");REX(Module._TRN_TextExtractorGetAsTextWithOffsets(r,t,0,w));var y=Module.GetJSStringFromUString(t),N=Module.getValue(w,
"i8*"),P=Module._malloc(4*N);l[l.length]=function(){Module._free(P)};REX(Module._TRN_TextExtractorGetAsTextWithOffsets(r,t,P,w));var I=Module.GetJSIntArrayFromCore(P,N),F=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorCmptSemanticInfo(r,q,0,F));var E=Module.getValue(F,"i8*"),H=Module._malloc(8*E);l[l.length]=function(){Module._free(H)};REX(Module._TRN_TextExtractorCmptSemanticInfo(r,q,H,F));var K=Module.GetJSDoubleArrFromCore(H,E);l.forEach(function(c){c()});d({str:y,quads:x,
offsets:I,struct:K})}catch(D){l.forEach(function(c){c()}),f(D)}})};n.InsertBlankPages=function(a,b,d,g){return new Promise(function(f,k){var l=[],h=Module.GetDoc(a);try{var n=Module.stackSave();l[l.length]=function(){Module.stackRestore(n)};for(var m=b.length-1;0<=m;--m){var r=Module.PDFDocGetPageIterator(h,b[m]),q=Module.PDFDocPageCreate(h,d,g);Module.PDFDocPageInsert(h,r,q)}var e=Module.postPagesUpdatedEvent(h,a);l.forEach(function(c){c()});f(e)}catch(c){l.forEach(function(c){c()}),k(c)}})};n.InsertPages=
function(a,b,d,g,h){return new Promise(function(f,l){var k=[],n=Module.GetDoc(a);try{var m=Module.stackSave();k[k.length]=function(){Module.stackRestore(m)};if(b instanceof ArrayBuffer){var r=Module.CreateDoc(b);var q=Module.GetDoc(r);k[k.length]=function(){Module.DeleteDoc(r)}}else q=Module.GetDoc(b);for(var e=d.length,c=Module.PageSetCreate(),p=0;p<e;++p)Module.PageSetAddPage(c,d[p]);Module.PDFDocInsertPages(n,g,q,c,h);var x=Module.postPagesUpdatedEvent(n,a);k.forEach(function(c){c()});f(x)}catch(w){k.forEach(function(c){c()}),
l(w)}})};n.MovePages=function(a,b,d){return new Promise(function(f,h){var k=[],l=Module.GetDoc(a);try{var g=Module.stackSave();k[k.length]=function(){Module.stackRestore(g)};for(var n=b.length,m=Module.PageSetCreate(),r=0;r<n;++r)Module.PageSetAddPage(m,b[r]);Module.PDFDocMovePages(l,d,m);var q=Module.postPagesUpdatedEvent(l,a);k.forEach(function(a){a()});f(q)}catch(e){k.forEach(function(c){c()}),h(e)}})};n.RemovePages=function(a,b){return new Promise(function(d,f){var h=Module.GetDoc(a),k=[];try{var l=
Module.stackSave();k[k.length]=function(){Module.stackRestore(l)};for(var g=b.length-1;0<=g;--g){var n=Module.PDFDocGetPageIterator(h,b[g]);Module.IteratorHasNext(n)&&Module.PDFDocPageRemove(h,n)}var m=Module.postPagesUpdatedEvent(h,a);k.forEach(function(a){a()});d(m)}catch(u){k.forEach(function(a){a()}),f(u)}})};n.RotatePages=function(a,b,d){return new Promise(function(f,h){var k=Module.GetDoc(a),l=[];try{var g=Module.stackSave();l[l.length]=function(){Module.stackRestore(g)};var n=b.length,m=0,
r=Module.PDFDocGetPageIterator(k,b[0]),q=[];l.push(function(){Module._TRN_IteratorDestroy(r)});for(var e=b[0];Module.IteratorHasNext(r)&&m<b[n-1];++e){if(e===b[m]){var c=Module.IteratorCurrent(r),p=(Module.PageGetRotation(c)+d)%4;Module.PageSetRotation(c,p);q.push(e);m++}Module.IteratorNext(r)}var x=Module.postPagesUpdatedEvent(k,a,q);l.forEach(function(c){c()});f(x)}catch(w){l.forEach(function(c){c()}),h(w)}})};n.ExtractPages=function(a,b,d,g){return new Promise(function(f,k){var l=[];try{var h=
Module.GetDoc(a),n=Module.stackSave();l[l.length]=function(){Module.stackRestore(n)};var m=function(a){l.forEach(function(c){c()});k(a)};Module.XFDFMerge(h,d);var r=Module.CreateEmptyDoc();l[l.length]=function(){Module.DeleteDoc(r)};var q=Module.InsertPages(r,a,b,1,!0).then(function(){return Module.SaveDoc(r,void 0,!0,!1,void 0,g)}).then(function(a){l.forEach(function(c){c()});return a}).catch(m);f(q)}catch(e){m(e)}})};n.CropPages=function(a,b,d,g,h,n){return new Promise(function(f,k){var l=Module.GetDoc(a),
m=[];try{var r=Module.stackSave();m[m.length]=function(){Module.stackRestore(r)};var q=b.length,e=0,c=Module.PDFDocGetPageIterator(l,b[0]);m.push(function(){Module._TRN_IteratorDestroy(c)});for(var p=[],x=b[0];Module.IteratorHasNext(c)&&e<b[q-1];++x){if(x===b[e]){var w=Module.IteratorCurrent(c),B=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetCropBox(w,B));var v=Module.PageGetRotation(w),t=Module.getValue(B,"double"),A=Module.getValue(B+8,"double"),y=Module.getValue(B+16,"double"),
I=Module.getValue(B+24,"double");0===v%4?(Module.setValue(B,t+h,"double"),Module.setValue(B+8,A+g,"double"),Module.setValue(B+16,y-n,"double"),Module.setValue(B+24,I-d,"double")):1===v%4?(Module.setValue(B,t+d,"double"),Module.setValue(B+8,A+h,"double"),Module.setValue(B+16,y-g,"double"),Module.setValue(B+24,I-n,"double")):2===v%4?(Module.setValue(B,t+n,"double"),Module.setValue(B+8,A+d,"double"),Module.setValue(B+16,y-h,"double"),Module.setValue(B+24,I-g,"double")):3===v%4&&(Module.setValue(B,t+
g,"double"),Module.setValue(B+8,A+n,"double"),Module.setValue(B+16,y-d,"double"),Module.setValue(B+24,I-h,"double"));Module.setValue(B+32,0,"double");REX(Module._TRN_PageSetBox(w,0,B));REX(Module._TRN_PageSetBox(w,1,B));p.push(x);e++}Module.IteratorNext(c)}var F=Module.postPagesUpdatedEvent(l,a,p);m.forEach(function(c){c()});f(F)}catch(E){m.forEach(function(c){c()}),k(E)}})}})("undefined"===typeof self?this.Module:self.Module);this.loaded=!0;Module.initCb&&Module.initCb()}}})(self)}).call(this,g(4).clearImmediate,
g(4).setImmediate)},function(d,m,g){(function(d){var b=g(0),m="undefined"!==typeof window?window:self;m.global=m;(function(a){a.currentFileString="/current";var g=0,f=0,k={},r=null;Module.chunkMax=200;var q=function(a,c,b,d,w){var e=new XMLHttpRequest;return CancellablePromise(function(p,f){e.open("GET",a,!0);e.responseType="arraybuffer";e.onerror=function(){f("Network error occurred")};e.onload=function(){if(206===this.status&&e.response.byteLength===b){var c=new Int8Array(e.response);p(c)}else f("Download Failed")};
var l=["bytes=",c,"-",c+b-1].join("");e.setRequestHeader("Range",l);w&&(e.withCredentials=w);d&&Object.keys(d).forEach(function(c){e.setRequestHeader(c,d[c])});e.send()},function(){e.abort()})},h=function(a){this.file=a;this.filePosition=0;this.fileLength=a.size;this.chunkData=null;this.chunkPosition=0;this.chunkSize=2097152;this.reader=new FileReaderSync};h.prototype={read:function(a,c,b){b=this.filePosition+b<=this.fileLength?b:this.fileLength-this.filePosition;a=a.subarray(c,c+b);c=b;if(0<b&&this.chunkData&&
this.chunkPosition<this.chunkData.length){var e=this.chunkPosition+b;e<=this.chunkData.length?(a.set(this.chunkData.subarray(this.chunkPosition,e)),this.chunkPosition=e,this.filePosition+=b,b=0):(a.set(this.chunkData.subarray(this.chunkPosition)),this.filePosition+=this.chunkData.length-this.chunkPosition,b=e-this.chunkData.length)}0<b&&(this.fileLength<=this.chunkSize?(this.chunkData=new Int8Array(this.reader.readAsArrayBuffer(this.file)),this.chunkPosition=this.filePosition,a.set(this.chunkData.subarray(this.chunkPosition,
this.chunkPosition+b)),this.chunkPosition+=b):b<this.chunkSize?(this.chunkPosition=0,e=this.filePosition,e+this.chunkSize>this.fileLength&&(e=this.fileLength-this.chunkSize,this.chunkPosition=this.filePosition-e),this.chunkData=new Int8Array(this.reader.readAsArrayBuffer(this.file.slice(e,e+this.chunkSize))),a.set(this.chunkData.subarray(this.chunkPosition,this.chunkPosition+b),c-b),this.chunkPosition+=b):(e=new Int8Array(this.reader.readAsArrayBuffer(this.file.slice(this.filePosition,this.filePosition+
b))),a.set(e),this.chunkPosition=0,this.chunkData=null),this.filePosition+=b);return c},seek:function(a){this.chunkData&&(this.chunkPosition+=a-this.filePosition,this.fileLength>this.chunkSize&&(this.chunkPosition>this.chunkData.length||0>this.chunkPosition)&&(this.chunkPosition=0,this.chunkData=null));this.filePosition=a},close:function(){this.reader=this.file=null},getPos:function(){return this.filePosition},getTotalSize:function(){return this.fileLength}};var t=function(a){this.data=a;this.position=
0;this.length=this.data.length};t.prototype={read:function(a,c,b){b=this.position+b<=this.length?b:this.length-this.position;a=a.subarray(c,c+b);c=this.data.subarray(this.position,this.position+b);a.set(c);this.position+=b;return b},write:function(a,c,b){b=this.position+b<=this.length?b:this.length-this.position;a=a.subarray(c,c+b);this.data.subarray(this.position,this.position+b).set(a);this.position+=b;return b},seek:function(a){this.position=a},close:function(){this.data=null},getPos:function(){return this.position},
getTotalSize:function(){return this.length}};var l=function(a,c,b,d,w){"object"===typeof a?(this.lruList=a.lruList,this.chunkMap=a.chunkMap,this.length=a.length,this.url=a.url,this.customHeaders=a.customHeaders,this.withCredentials=a.withCredentials):(this.lruList=[],this.chunkMap={},this.chunkMap[c]=w,this.length=c,this.url=a,this.customHeaders=b,this.withCredentials=d)};l.prototype={lruUpdate:function(a){var c=this.lruList.lastIndexOf(a);0<=c&&this.lruList.splice(c,1);this.lruList.push(a)},getChunk:function(a){var c=
this;if(this.chunkMap[a])this.lruUpdate(a);else{var e=Math.min(a+524288,this.length)-1,b=new XMLHttpRequest;b.open("GET",this.url,!1);b.responseType="arraybuffer";b.setRequestHeader("Range",["bytes=",a,"-",e].join(""));this.withCredentials&&(b.withCredentials=this.withCredentials);this.customHeaders&&Object.keys(this.customHeaders).forEach(function(a){b.setRequestHeader(a,c.customHeaders[a])});b.send();if(200===b.status||206===b.status)this.writeChunk(new Int8Array(b.response),a);else throw Error("Failed to load data from");
}return this.chunkMap[a]},hadChunk:function(a){return a in this.chunkMap},hasChunk:function(a){return this.chunkMap[a]},getCacheData:function(){return this.chunkMap[this.length]},getRequiredChunkOffsetArrays:function(a,c){var e={have:[],downloading:[],missing:[]};try{var b=Module.stackSave();var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderGetRequiredChunksSize(a,c,d));var f=Module.getValue(d,"i8*");if(f){var l=Module._malloc(4*f);REX(Module._TRN_DownloaderGetRequiredChunks(a,
c,l,f));for(a=0;a<f;++a){var h=Module.getValue(l+4*a,"i8*");this.hasChunk(h)?e.have.push(h):this.hadChunk(h)?e.missing.push(h):e.downloading.push(h)}}}finally{l&&Module._free(l),Module.stackRestore(b)}return e},keepVisibleChunks:function(a,c){for(var e=c.length,b=Module.chunkMax/2,d=0,f=0;f<e;++f){var l=this.getRequiredChunkOffsetArrays(a,c[f]),h=l.have,k=h.length;d+=k;if(d>b){this.keepChunks(h.slice(0,k-d+b));break}this.keepChunks(l.have)}},getChunkAsync:function(a){var c=this,e=a+524288,b=524288;
e>this.length&&(b-=e-this.length);return q(this.url,a,b,this.customHeaders,this.withCredentials).then(function(e){c.writeChunk(e,a)})},getChunks:function(a){for(var c=a.length,e=Array(c),b=0;b<c;++b)e[b]=this.getChunkAsync(a[b]);return CancellablePromise.all(e)},keepChunks:function(a){for(var c=a.length,e=0;e<c;++e)this.lruUpdate(a[e])},writeChunk:function(a,c,b){b=b||0;var e=this.chunkMap[c],d=a.length,p=this.lruList.length>=Module.chunkMax&&!e;524288!==d||a.buffer.byteLength!==d?(p?(e=this.lruList.shift(),
p=this.chunkMap[e],524288>p.length&&(p=new Int8Array(524288)),this.chunkMap[e]=null):p=e?this.chunkMap[c]:new Int8Array(524288),p.subarray(b,b+d).set(a),a=p):p&&(e=this.lruList.shift(),this.chunkMap[e]=null);this.lruUpdate(c);this.chunkMap[c]=a}};var v=function(a){this.chunkStorage=a;this.position=0;this.length=this.chunkStorage.length};v.prototype={read:function(a,c,b){var e=this.position+b<=this.length,d=e?b:this.length-this.position;if(this.position<this.length){var p;for(p=0;p<d;){var f=this.position%
524288;var l=this.position-f;var h=d-p;if(this.chunkStorage.hadChunk(l)){l=this.chunkStorage.getChunk(l);var k=a.subarray(c+p,c+p+h);f=l.subarray(f,f+h);k.set(f);f=f.length;p+=f;this.position+=f}else for(this.position+=h;p<d;++p)k[p]=0}}if(!e){k=c+d;if(b-=d)c=this.chunkStorage.getCacheData(),b>c.length&&(b=c.length),e=this.position-this.length,k=a.subarray(k,k+b),f=c.subarray(e,e+b),k.set(f);this.position+=b;return d+b}return d},write:function(a,c,b){var e=this.position+b<=this.length,d=this.position+
b<=this.length?b:this.length-this.position,p=a.subarray(c,c+d),f=this.position%524288;this.chunkStorage.writeChunk(p,this.position-f,f);this.position+=d;if(!e){p=c+d;if(b-=d)c=this.chunkStorage.getCacheData(),b>c.length&&(b=c.length),e=this.position-this.length,p=a.subarray(p,p+b),c.subarray(e,e+b).set(p);this.position+=b;return d+b}return d},seek:function(a){this.position=a},close:function(){this.chunkStorage=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};
var z=function(a){this.docId=a;this.length=0;this.data=new Int8Array(8192);this.position=0};z.prototype={seek:function(a){this.position=a},close:function(){var a=new Int8Array(this.data.buffer.slice(0,this.length));Module.ChangeDocBackend(this.docId,{ptr:Module.GetDoc(this.docId),buffer:a});this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length},read:function(a,c,b){var e=this.data.length;b=b+c<e?b:e-c;a=a.subarray(c,c+b);c=this.data.subarray(this.position,
this.position+b);a.set(c);this.position+=b;return b},write:function(a,c,b){for(var e=this.position+b,d=this.data.length;e>d;){d=Math.max(d*(16777216<d?1.5:2),e);var p=new Int8Array(d);p.set(this.data.subarray(0,this.length),0);this.data=p}a=a.subarray(c,c+b);this.data.set(a,this.position);this.position+=b;this.position>this.length&&(this.length=this.position);return b}};var C={IsSink:function(a){return 66===(a.flags&255)},open:function(a){var c=a.path.slice(1);this.IsSink(a)?(a.provider=new z(c),
Module.docs[c].sink=a.provider):a.provider=Module.docs[c].sink?new t(Module.docs[c].sink.data):Module.docs[c].chunkStorage?new v(Module.docs[c].chunkStorage):Module.docs[c].buffer?new t(Module.docs[c].buffer):new h(Module.docs[c].file)},close:function(a){a.provider.close()},read:function(a,c,b,d,f){return a.provider.read(c,b,d)},llseek:function(a,c,b){a=a.provider;1===b?c+=a.getPos():2===b&&(c=a.getTotalSize()+c);if(0>c)throw new FS.ErrnoError(m.ERRNO_CODES.EINVAL);a.seek(c);return c},write:function(a,
c,b,d,f){return d?a.provider.write(c,b,d):0}};m.THROW=function(a){throw{type:"InvalidPDF",message:a};};var u=function(e){return"Exception: \n\t Message: "+a.GetJSStringFromCString(Module._TRN_GetMessage(e))+"\n\t Filename: "+a.GetJSStringFromCString(Module._TRN_GetFileName(e))+"\n\t Function: "+a.GetJSStringFromCString(Module._TRN_GetFunction(e))+"\n\t Linenumber: "+a.GetJSStringFromCString(Module._TRN_GetLineNum(e))};a.GetErrToString=u;m.REX=function(a){a&&THROW(u(a))};a.Initialize=function(a){var c=
Module.stackSave();a=a?Module.allocate(Module.intArrayFromString(a),"i8",Module.ALLOC_STACK):0;REX(Module._TRN_PDFNetInitialize(a));Module.stackRestore(c)};a.GetDoc=function(a){if(a in Module.docs)return Module.docs[a].ptr;throw{type:"InvalidDocReference",message:"Unable to access Document id="+a+". The document appears to be invalid or was deleted."};};a.clearDocBackend=function(){null!==Module.cachePtr?(Module.hasBufOwnership&&Module._free(Module.cachePtr),Module.cachePtr=null):Module.docs[a.currentFileString]&&
delete Module.docs[a.currentFileString]};a.MakeDev=function(a){if(!k[a]){var c=FS.makedev(3,5);FS.registerDevice(c,C);FS.mkdev(a,511,c);k[a]=!0}};a.CreateDocFileBackend=function(a,c){Module.MakeDev(c);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.docs[c]={file:a};a=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(a,b));b=Module.getValue(b,"i8*");Module.docs[c].ptr=b};a.InsertImageIntoDoc=function(a,c,b){var e=[];try{var d=Module.ElementBuilderCreate();
e.push(function(){Module.ElementBuilderDestroy(d)});var p=Module.ElementWriterCreate();e.push(function(){Module.ElementWriterDestroy(p)});if(b){var f=b.width;var l=b.height}else f=Module.ImageGetImageWidth(c),l=Module.ImageGetImageHeight(c),b=f/l,b>612/792?(f=612,l=parseInt(f/b,10)):(l=792,f=parseInt(l*b,10));var h=Module.ElementBuilderCreateImage(d,c,0,0,f,l),k=Module.PDFDocPageCreate(a,f,l);Module.ElementWriterBegin(p,k);Module.ElementWriterWritePlacedElement(p,h);Module.ElementWriterEnd(p);Module.PDFDocPagePushBack(a,
k)}finally{e.forEach(function(a){a()})}};var M=function(a,c,b){"object"===typeof a?(this.m_pages=a.m_pages,this.m_has_named_dests=a.m_has_named_dests,this.m_finished_download=a.m_finished_download,this.m_has_outline=a.m_has_outline,this.m_current_page=a.m_current_page,this.m_id=a.m_id,this.size=a.size,this.timeout=a.timeout,this.eventPageArray=a.eventPageArray,this.requirePageCallbacks=a.requirePageCallbacks):(this.m_pages=[],this.m_has_outline=this.m_finished_download=this.m_has_named_dests=!1,this.m_current_page=
1,this.m_id=b,this.size=a,this.timeout=null,this.eventPageArray=[],this.requirePageCallbacks={});this.downloadUserData=Module.createDownloadUserData(c,b)};M.prototype={getJSUrl:function(){return Module.extractDownloadUserData(this.downloadUserData).url},getDocId:function(){return Module.extractDownloadUserData(this.downloadUserData).docId},destroyUserData:function(){this.m_id in Module.withCredentials&&delete Module.withCredentials[this.m_id];this.m_id in Module.customHeadersMap&&delete Module.customHeadersMap[this.m_id];
Module.destroyDownloadUserData(this.downloadUserData)}};a.createDownloadUserData=function(a,c){a=Module.allocate(Module.intArrayFromString(a),"i8",Module.ALLOC_NORMAL);var b=Module.allocate(8,"i8",Module.ALLOC_NORMAL);Module.setValue(b,a,"i8*");Module.setValue(b+4,parseInt(c,10),"i32");return this.downloadUserData=b};a.extractDownloadUserData=function(b){var c=Module.getValue(b,"i8*");c=a.GetJSStringFromCString(c);b=Module.getValue(b+4,"i32").toString();return{url:c,docId:b}};a.destroyDownloadUserData=
function(a){Module._free(Module.getValue(a,"i8*"));Module._free(a)};m.downloadDataMap={};Module.customHeadersMap={};Module.withCredentials={};a.GetDownloadData=function(a){if(a in downloadDataMap)return downloadDataMap[a]};a.DownloaderHint=function(a,c){var b=this,e=Module.GetDoc(a),d=downloadDataMap[e];c.currentPage&&(d.m_current_page=c.currentPage);if(c.visiblePages){var f=c.visiblePages;for(c=0;c<f.length;++c)++f[c];Object.keys(this.requirePageCallbacks).forEach(function(a){b.requirePageCallbacks.hasOwnProperty(a)&&
f.push(parseInt(a,10))});(c=Module.docs[a].chunkStorage)&&c.keepVisibleChunks(d.downloader,f);d=f.length;a=Module.allocate(4*d,"i8",Module.ALLOC_STACK);for(c=0;c<d;++c)Module.setValue(a+4*c,f[c],"i32");REX(Module._TRN_PDFDocDownloadPages(e,a,d,1,0))}};a.RequirePage=function(a,c){return new Promise(function(b,e){e=Module.GetDoc(a);var d=downloadDataMap[e];!d||d.m_finished_download||d.m_pages[c]?b():(c in d.requirePageCallbacks?d.requirePageCallbacks[c].push(b):d.requirePageCallbacks[c]=[b],b=Module.allocate(4,
"i8",Module.ALLOC_STACK),Module.setValue(b,c,"i32"),Module._TRN_PDFDocDownloadPages(e,b,1,0,0))})};a.IsLinearizationValid=function(a){a=Module.GetDoc(a);if(a=downloadDataMap[a]){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderIsLinearizationValid(a.downloader,c));return 0!==Module.getValue(c,"i8")}return!1};a.ShouldRunRender=function(a,c){a=Module.GetDoc(a);return(a=downloadDataMap[a])?a.m_finished_download?!0:a.m_pages[c]:!0};a.createCallbacksStruct=function(a){if(!r){var c=
function(a){return function(c){var b=arguments;c in downloadDataMap?a.apply(this,b):d(function(){c in downloadDataMap&&a.apply(this,b)},0)}};r={downloadProc:Module.addFunction(function(a,c,b,e,d){e=Module.extractDownloadUserData(e);var p=e.docId;q(e.url,c,b,Module.customHeadersMap[p],Module.withCredentials[p]).then(function(e){p in Module.docs&&Module.docs[p].chunkStorage&&Module.docs[p].chunkStorage.writeChunk(e,c);Module._TRN_DownloadComplete(0,c,b,a)})}),notifyUpdatePage:Module.addFunction(c(function(a,
c,b,e){var d=downloadDataMap[a];d.m_pages[c]=!0;var p=d.eventPageArray;if(c in d.requirePageCallbacks)for(b=d.requirePageCallbacks[c],e=0;e<b.length;++e)b[e]();d.timeout?p.push(c):(p=d.eventPageArray=[c],d.timeout=setTimeout(function(){Module.postPagesUpdatedEvent(a,d.m_id,p);d.timeout=null},100))})),notifyUpdateOutline:Module.addFunction(c(function(a,c){a=downloadDataMap[a];a.m_has_outline||(a.m_has_outline=!0,Module.postEvent(a.m_id,"bookmarksUpdated",{}))})),notifyUpdateNamedDests:Module.addFunction(c(function(a,
c){a=downloadDataMap[a];a.m_has_named_dests||(a.m_has_named_dests=!0)})),notifyUpdateThumb:Module.addFunction(c(function(a,c){})),notifyFinishedDownload:Module.addFunction(c(function(a,c){a=downloadDataMap[a];a.m_finished_download||(a.m_finished_download=!0,Module.postEvent(a.m_id,"documentComplete",{}))})),notifyDocumentError:Module.addFunction(function(a,c){}),getCurrentPage:Module.addFunction(function(a,c){return downloadDataMap[a].m_current_page})}}c=Module.allocate(40,"i8",Module.ALLOC_STACK);
Module.setValue(c,r.downloadProc,"i8*");Module.setValue(c+4,a,"i8*");Module.setValue(c+8,r.notifyUpdatePage,"i8*");Module.setValue(c+12,r.notifyUpdateOutline,"i8*");Module.setValue(c+16,r.notifyUpdateNamedDests,"i8*");Module.setValue(c+20,r.notifyUpdateThumb,"i8*");Module.setValue(c+24,r.notifyFinishedDownload,"i8*");Module.setValue(c+28,r.notifyDocumentError,"i8*");Module.setValue(c+32,r.getCurrentPage,"i8*");Module.setValue(c+36,0,"i8*");return c};a.CreateDocDownloaderBackend=function(a,c,b){var e=
a.url,d=a.size,p=a.customHeaders,f=a.withCredentials;p&&(Module.customHeadersMap[b]=p);f&&(Module.withCredentials[b]=f);var h=a.downloadData?new M(a.downloadData,e,b,p,f):new M(a.size,e,b,p,f);var k=Module.createCallbacksStruct(h.downloadUserData),g=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.MakeDev(b);a.chunkStorage?e=new l(a.chunkStorage):(a=new Int8Array(new ArrayBuffer(Math.ceil((a.size+524288-1)/524288/8))),e=new l(e,d,p,f,a));Module.docs[b]={chunkStorage:e};REX(Module._TRN_DownloaderCreate(k,
d,Module.GetUStringFromJSString(b),g));h.downloader=Module.getValue(g,"i8*");if(d=Module._TRN_PDFDocCreateFromFilter(h.downloader,c))Module._TRN_FilterDestroy(h.downloader),REX(d);c=Module.getValue(c,"i8*");Module.docs[b].ptr=c;Module.PDFDocInitSecurityHandler(c)&&REX(Module._TRN_PDFDocDownloaderInitialize(c,h.downloader));downloadDataMap[c]=h};a.CreateDocBackend=function(b,c){var e=b.value,d=b.extension,f=b.type,l=Module.allocate(4,"i8",Module.ALLOC_STACK),h=Module.stackSave();try{if(e)if("ptr"===
f)Module.docs[c]={ptr:e};else if(f=d&&"pdf"!==d,"object"===typeof e&&e.url)a.CreateDocDownloaderBackend(e,l,c);else{var k=e instanceof ArrayBuffer,m=k?"buffer":"file";if(k&&(e=new Uint8Array(e),10485760>e.length+g&&!f)){g+=e.length;var n=e.length,r=Module._malloc(e.length);Module.HEAPU8.set(e,r);REX(Module._TRN_PDFDocCreateFromBuffer(r,n,l));var q=Module.getValue(l,"i8*");Module.docs[c]={ptr:q,bufPtr:r,bufPtrSize:n,ownership:!0};Module.docs[c].extension=d;return}Module.MakeDev(c);k={};k[m]=e;Module.docs[c]=
k;if(f){if(b.pageSizes&&b.pageSizes.length)var u=b.pageSizes[0];else b.defaultPageSize&&(u=b.defaultPageSize);var v=Module.GetUStringFromJSString(c);REX(Module._TRN_PDFDocCreate(l));q=Module.getValue(l,"i8*");var t=Module.ImageCreateFromFile(q,v);Module.InsertImageIntoDoc(q,t,u)}else{var z=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(z,l));q=Module.getValue(l,"i8*")}Module.docs[c].extension=d;Module.docs[c].ptr=q}else REX(Module._TRN_PDFDocCreate(l)),
q=Module.getValue(l,"i8*"),Module.docs[c]={ptr:q},Module.docs[c].extension=d}finally{Module.stackRestore(h)}};a.ChangeDocBackend=function(a,c){var e=Module.docs[a];e?(e.bufPtr&&e.ownership&&(Module._free(e.bufPtr),g-=e.bufPtrSize),delete Module.docs[a]):Object(b.c)("Trying to delete document "+a+" that does not exist.");Module.docs[a]=c};a.DeleteDoc=function(a){var c=Module.docs[a];c?(c.ptr&&(c.ptr in downloadDataMap&&(clearTimeout(downloadDataMap[c.ptr].timeout),downloadDataMap[c.ptr].destroyUserData(),
delete downloadDataMap[c.ptr]),Module.PDFDocDestroy(c.ptr)),c.bufPtr&&c.ownership&&(Module._free(c.bufPtr),g-=c.bufPtrSize),delete Module.docs[a]):Object(b.c)("Trying to delete document "+a+" that does not exist.")};a.CreateDoc=function(b,c){if("id"===b.type)return Module.docPtrStringToIdMap[b.value];if(!c){do c=(++f).toString();while(c in Module.docs)}Module.hasBufOwnership=!0;a.CreateDocBackend(b,c);return c};a.CreateEmptyDoc=function(){var a=(++f).toString(),c=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_PDFDocCreate(c));c=Module.getValue(c,"i8*");Module.docs[a]={ptr:c};return a};a.PDFDocCreateFromLayoutEls=function(a){var c=new Uint8Array(a);a=Module._malloc(c.length);var b=Module.stackSave(),d=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.HEAPU8.set(c,a);c=Module._TRN_PDFDocCreateFromLayoutEls(a,c.length,d);d=Module.getValue(d,"i8*");Module._free(a);Module.stackRestore(b);REX(c);return d};a.GetPageCount=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageCount(a,
c));return Module.getValue(c,"i8*")};a.GetPage=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPage(a,c,b));a=Module.getValue(b,"i8*");Module.PageIsValid(a)||THROW("Trying to access page that doesn't exist at index "+c);return a};a.PageGetPageWidth=function(a){var c=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageWidth(a,1,c));return Module.getValue(c,"double")};a.PageGetPageHeight=function(a){var c=Module.allocate(8,"i8",Module.ALLOC_STACK);
REX(Module._TRN_PageGetPageHeight(a,1,c));return Module.getValue(c,"double")};a.PageGetDefaultMatrix=function(a,c){var b=Module.allocate(48,"i8",Module.ALLOC_STACK);c||(c=0);REX(Module._TRN_PageGetDefaultMatrix(a,!0,1,c,b));return b};a.GetMatrixAsArray=function(a){for(var c=[],b=0;6>b;++b)c[b]=Module.getValue(a+8*b,"double");return c};a.PageGetPageInfo=function(a){var c=Module.allocate(48,"i8",Module.ALLOC_STACK),b=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK),
e=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageInfo(a,!0,1,0,b,d,c,e));return{rotation:Module.getValue(e,"i8*"),width:Module.getValue(b,"double"),height:Module.getValue(d,"double"),matrix:Module.GetMatrixAsArray(c)}};a.GetUStringFromJSString=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK),d=2*(a.length+1),e=Module.allocate(d,"i8",c?Module.ALLOC_NORMAL:Module.ALLOC_STACK);Module.stringToUTF16(a,e,d);a=Module._TRN_UStringCreateFromString(e,b);c&&Module._free(e);
REX(a);return Module.getValue(b,"i8*")};a.GetJSStringFromUString=function(a){var c=Module.allocate(4,"i16*",Module.ALLOC_STACK);REX(Module._TRN_UStringCStr(a,c));return Module.UTF16ToString(Module.getValue(c,"i16*"))};a.GetJSStringFromCString=function(a){return Module.UTF8ToString(a)};a.PDFNetSetResourceData=function(a){Module.res_ptr=Module._malloc(a.length);Module.HEAPU8.set(a,Module.res_ptr);REX(Module._TRN_PDFNetSetResourceData(Module.res_ptr,a.length));Module.res_ptr_size=a.length};a.PDFDocDestroy=
function(a){REX(Module._TRN_PDFDocDestroy(a))};a.VectorGetSize=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_VectorGetSize(a,c));return Module.getValue(c,"i32")};a.VectorGetAt=function(a,c){var b=Module.allocate(1,"i8*",Module.ALLOC_STACK);REX(Module._TRN_VectorGetAt(a,c,b));return Module.getValue(b,"i8*")};a.VectorDestroy=function(a){REX(Module._TRN_VectorDestroy(a))};a.PDFRasterizerCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerCreate(0,
a));return Module.getValue(a,"i8*")};a.ExtractSeparationData=function(a){var c=Module.getValue(a,"i8*"),b=Module.getValue(a+4,"i32"),d=Module.getValue(a+8,"i8*"),e=Module.HEAPU8[a+12],f=Module.HEAPU8[a+13],l=Module.HEAPU8[a+14];a=Module.HEAPU8[a+15];var h=new Uint8Array(b);h.set(Module.HEAPU8.subarray(c,c+b));c=Module.GetJSStringFromUString(d);return{color:[e,f,l,a],data:h.buffer,name:c}};a.PDFRasterizerRasterizeSeparations=function(a,c,b,d,f,l,h){var e=Module.allocate(8,"i8",Module.ALLOC_STACK);
REX(Module._TRN_PDFRasterizerRasterizeSeparations(a,c,b,d,f,l,h,e));a=Module.getValue(e,"i8*");c=Module.VectorGetSize(a);b=Array(c);for(d=0;d<c;++d)f=Module.VectorGetAt(a,d),b[d]=Module.ExtractSeparationData(f);Module.VectorDestroy(a);return b};a.PageGetRotation=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetRotation(a,c));return Module.getValue(c,"i8*")};a.PageGetId=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetSDFObj(a,c));
c=Module.getValue(c,"i8*");a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetObjNum(c,a));a=Module.getValue(a,"i32");var b=Module.allocate(2,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetGenNum(c,b));b=Module.getValue(b,"i16");return a+"-"+b};a.PageSetRotation=function(a,c){REX(Module._TRN_PageSetRotation(a,c))};a.GetDefaultMatrixBox=function(a,c,b){var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetRotation(a,d));a=(Module.getValue(d,"i32")+b)%4;b=Module.allocate(48,
"i8",Module.ALLOC_STACK);switch(a){case 0:return REX(Module._TRN_Matrix2DSet(b,1,0,0,-1,-c.x1,c.y2)),b;case 1:return REX(Module._TRN_Matrix2DSet(b,0,1,1,0,-c.y1,-c.x1)),b;case 2:return REX(Module._TRN_Matrix2DSet(b,-1,0,0,1,c.x2,-c.y1)),b;case 3:return REX(Module._TRN_Matrix2DSet(b,0,-1,-1,0,c.y2,c.x2)),b}throw Error("Yikes, we don't support that rotation type");};a.Matrix2DMultBBox=function(a,c){var b=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(b,
c.x1,"double");Module.setValue(d,c.y1,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x1=Module.getValue(b,"double");c.y1=Module.getValue(d,"double");Module.setValue(b,c.x2,"double");Module.setValue(d,c.y2,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x2=Module.getValue(b,"double");c.y2=Module.getValue(d,"double");return c};a.Matrix2DMult=function(a,c){var b=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(b,c.x,"double");Module.setValue(d,
c.y,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x=Module.getValue(b,"double");c.y=Module.getValue(d,"double");return c};a.Matrix2DConcat=function(a,c){var b=Module.getValue(c,"double"),d=Module.getValue(c+8,"double"),e=Module.getValue(c+16,"double"),f=Module.getValue(c+24,"double"),l=Module.getValue(c+32,"double");c=Module.getValue(c+40,"double");REX(Module._TRN_Matrix2DConcat(a,b,d,e,f,l,c))};a.Matrix2DSet=function(a,c,b,d,f,l,h){REX(Module._TRN_Matrix2DSet(a,c,b,d,f,l,h))};a.IteratorHasNext=
function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorHasNext(a,c));return 0!==Module.getValue(c,"i8")};a.IteratorCurrent=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorCurrent(a,c));return Module.getValue(Module.getValue(c,"i8*"),"i8*")};a.IteratorNext=function(a){REX(Module._TRN_IteratorNext(a))};a.PageGetNumAnnots=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetNumAnnots(a,c));return Module.getValue(c,
"i32")};a.PageGetAnnot=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetAnnot(a,c,b));return Module.getValue(b,"i8*")};a.PageAnnotRemove=function(a,c){REX(Module._TRN_PageAnnotRemoveByIndex(a,c))};a.AnnotGetType=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetType(a,c));return Module.getValue(c,"i32")};a.AnnotHasAppearance=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetAppearance(a,0,0,
c));return 0!==Module.getValue(c,"i8*")};a.AnnotRefreshAppearance=function(a){REX(Module._TRN_AnnotRefreshAppearance(a))};a.ObjErase=function(a,c){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjEraseFromKey(a,c))};a.GetJSDoubleArrFromCore=function(a,c){for(var b=Array(c),d=0;d<c;++d)b[d]=Module.getValue(a,"double"),a+=8;return b};a.GetJSIntArrayFromCore=function(a,c){for(var b=Array(c),d=0;d<c;++d)b[d]=Module.getValue(a,"i32"),a+=4;return b};a.BookmarkIsValid=
function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkIsValid(a,c));return 0!==Module.getValue(c,"i8")};a.BookmarkGetNext=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetNext(a,c));return Module.getValue(c,"i8*")};a.BookmarkGetFirstChild=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetFirstChild(a,c));return Module.getValue(c,"i8*")};a.BookmarkHasChildren=function(a){var c=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkHasChildren(a,c));return 0!==Module.getValue(c,"i8")};a.BookmarkGetAction=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetAction(a,c));return Module.getValue(c,"i8*")};a.BookmarkGetTitle=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetTitle(a,c));a=Module.getValue(c,"i8*");return Module.GetJSStringFromUString(a)};a.ActionIsValid=function(a){var c=Module.allocate(4,"i8",
Module.ALLOC_STACK);REX(Module._TRN_ActionIsValid(a,c));return 0!==Module.getValue(c,"i8")};a.ActionGetType=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionGetType(a,c));return Module.getValue(c,"i32")};a.ActionGetDest=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionGetDest(a,c));return Module.getValue(c,"i8*")};a.DestinationIsValid=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationIsValid(a,
c));return 0!==Module.getValue(c,"i8")};a.DestinationGetPage=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetPage(a,c));return Module.getValue(c,"i8*")};a.PageIsValid=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageIsValid(a,c));return 0!==Module.getValue(c,"i8")};a.PageGetIndex=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetIndex(a,c));return Module.getValue(c,"i32")};a.ObjGetAsPDFText=
function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetAsPDFText(a,c));a=Module.getValue(c,"i8*");return Module.GetJSStringFromUString(a)};a.ObjFindObj=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjFindObj(a,c,b));return Module.getValue(b,"i8*")};a.PDFDocGetFirstBookmark=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetFirstBookmark(a,
c));return Module.getValue(c,"i8*")};a.DestinationGetExplicitDestObj=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetExplicitDestObj(a,c));return Module.getValue(c,"i8*")};a.DestinationGetFitType=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetFitType(a,c));return Module.getValue(c,"i32")};a.ObjIsNumber=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjIsNumber(a,c));return 0!==Module.getValue(c,
"i8")};a.ObjGetNumber=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetNumber(a,c));return Module.getValue(c,"double")};a.PDFDocGetRoot=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetRoot(a,c));return Module.getValue(c,"i8*")};a.ObjPutName=function(a,c,b){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);var d=Module.allocate(4,"i8",
Module.ALLOC_STACK);REX(Module._TRN_ObjPutName(a,c,b,d));return Module.getValue(d,"i8*")};a.ObjPutDict=function(a,c){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutDict(a,c,b));return Module.getValue(b,"i8*")};a.ObjPutString=function(a,c,b){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);var d=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutString(a,c,b,d));return Module.getValue(d,"i8*")};a.ObjPut=function(a,c,b){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPut(a,c,b,d));return Module.getValue(d,"i8*")};a.ObjGetAt=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetAt(a,c,b));return Module.getValue(b,"i8*")};a.Matrix2DInverse=function(a){var c=Module.allocate(48,
"i8",Module.ALLOC_STACK);REX(Module._TRN_Matrix2DInverse(a,c));return c};a.PDFDocInitSecurityHandler=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitSecurityHandler(a,0,c));return 0!==Module.getValue(c,"i8")};a.PDFDocInitStdSecurityHandler=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);c=Module.intArrayFromString(c);var d=Module.allocate(c,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitStdSecurityHandler(a,d,c.length-1,b));return 0!==Module.getValue(b,
"i8")};a.PDFDocInsertPages=function(a,c,b,d,f){REX(Module._TRN_PDFDocInsertPageSet(a,c,b,d,f?1:0,0))};a.PDFDocMovePages=function(a,c,b){REX(Module._TRN_PDFDocMovePageSet(a,c,a,b,0,0))};a.PDFDocGetPageIterator=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageIterator(a,c,b));return Module.getValue(b,"i8*")};a.PDFDocPageRemove=function(a,c){REX(Module._TRN_PDFDocPageRemove(a,c))};a.PDFDocPageCreate=function(a,c,b){var d=Module.allocate(40,"i8",Module.ALLOC_STACK);
Module.setValue(d,0,"double");Module.setValue(d+8,0,"double");Module.setValue(d+16,c,"double");Module.setValue(d+24,b,"double");Module.setValue(d+32,0,"double");c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocPageCreate(a,d,c));return Module.getValue(c,"i8*")};a.PDFDocPageInsert=function(a,c,b){REX(Module._TRN_PDFDocPageInsert(a,c,b))};a.PageSetCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageSetCreate(a));return Module.getValue(a,"i8*")};a.PageSetCreateRange=
function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageSetCreateRange(b,a,c));return Module.getValue(b,"i8*")};a.PageSetAddPage=function(a,c){REX(Module._TRN_PageSetAddPage(a,c))};a.ElementBuilderCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreate(a));return Module.getValue(a,"i8*")};a.ElementBuilderDestroy=function(a){REX(Module._TRN_ElementBuilderDestroy(a))};a.ElementBuilderCreateImage=function(a,c,b,d,f,l){var e=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreateImageScaled(a,c,b,d,f,l,e));return Module.getValue(e,"i8*")};a.ElementWriterCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterCreate(a));return Module.getValue(a,"i8*")};a.ElementWriterDestroy=function(a){REX(Module._TRN_ElementWriterDestroy(a))};a.ElementWriterBegin=function(a,c){REX(Module._TRN_ElementWriterBeginOnPage(a,c,1))};a.ElementWriterWritePlacedElement=function(a,c){REX(Module._TRN_ElementWriterWritePlacedElement(a,
c))};a.ElementWriterEnd=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterEnd(a,c))};a.ImageGetImageWidth=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageWidth(a,c));return Module.getValue(c,"i32")};a.ImageGetImageHeight=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageHeight(a,c));return Module.getValue(c,"i32")};a.ImageCreateFromMemory2=function(a,c,b){var d=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageCreateFromMemory2(a,c,b,0,d));return Module.getValue(d,"i8*")};a.ImageCreateFromFile=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageCreateFromFile(a,c,0,b));return Module.getValue(b,"i8*")};a.PDFDocPagePushBack=function(a,c){REX(Module._TRN_PDFDocPagePushBack(a,c))};a.PDFDocHasOC=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocHasOC(a,c));return 0!==Module.getValue(c,"i8")};a.PDFDocGetOCGConfig=
function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetOCGConfig(a,c));return Module.getValue(c,"i8*")};a.OCGContextCreate=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_OCGContextCreateFromConfig(a,c));return Module.getValue(c,"i8*")};a.UStringDestroy=function(a){REX(Module._TRN_UStringDestroy(a))};a.FDFDocDestroy=function(a){REX(Module._TRN_FDFDocDestroy(a))}})(m.Module)}).call(this,g(4).setImmediate)},function(d,m,g){(function(d){d.SetupPDFNetFunctions=
function(b){Module._IB_=[];for(var g=function(a){if("object"===typeof a&&null!==a)if("undefined"!==typeof a.byteLength){var b=Module._IB_.length;Module._IB_[b]=new Uint8Array(a);a={handle:b,isArrayBufferRef:!0}}else Object.keys(a).forEach(function(b){a.hasOwnProperty(b)&&(a[b]=g(a[b]))});return a},a=function(b){"object"===typeof b&&null!==b&&(b.buffer?b=b.buffer.slice(b.byteOffset,b.byteOffset+b.length):b.isArrayBufferRef?b=Module._IB_[b.handle].buffer:Object.keys(b).forEach(function(d){b.hasOwnProperty(d)&&
(b[d]=a(b[d]))}));return b},m=Module._TRN_EMSCreateSharedWorkerInstance(),f,k=Module._TRN_EMSWorkerInstanceGetFunctionIterator(m),r=function(b,d){return new Promise(function(f,l){b=g(b);var h=b.docId;h=h?Module.GetDoc(h):0;(h=Module.EMSCallSharedFunction(m,d,h))?l({type:"InvalidPDF",message:Module.GetErrToString(h)}):(l=Module.EMSGetLastResponse(m),l=a(l),f(l))})};f=Module._TRN_EMSFunctionIteratorGetNextCommandName(k);)f=Module.GetJSStringFromCString(f),d.queue.onAsync(f,r);Module._TRN_EMSFunctionIteratorDestroy(k);
if(Module._TRN_EMSCreatePDFNetWorkerInstance){var q={};k=function(a,d){b.on(a,d);q[a]=!0};Module.docPtrStringToIdMap={};var h=function(a){if(a in Module.docPtrStringToIdMap)return Module.docPtrStringToIdMap[a];throw Error("Couldn't find document "+a);};d.queue.onAsync("PDFDoc.RequirePage",function(a){return Module.RequirePage(h(a.docId),a.pageNum)});k("pdfDocCreateFromBuffer",function(a){a=Module.CreateDoc({type:"array",value:a.buf});var b=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[b]=
a;return b});k("PDFDoc.destroy",function(a){a=h(a.auto_dealloc_obj);Module.DeleteDoc(a)});k("PDFDoc.saveMemoryBuffer",function(a){var b=h(a.doc);return Module.SaveHelper(Module.GetDoc(b),b,a.flags).slice(0)});k("pdfDocCreate",function(){var a=Module.CreateDoc({type:"new"}),b=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[b]=a;return b});k("GetPDFDoc",function(a){a=a.docId;var b=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[b]=a;return b});k("ExtractPDFNetLayersContext",function(a){var b=
a.layers;a=Module.GetDoc(a.docId);var d=0;b?d=Module.EMSCreateUpdatedLayersContext(a,b):Module.PDFDocHasOC(a)&&(b=Module.PDFDocGetOCGConfig(a),d=Module.OCGContextCreate(b));return d.toString(16)});var A=Module._TRN_EMSCreatePDFNetWorkerInstance();k=Module._TRN_EMSWorkerInstanceGetFunctionIterator(A);for(r=function(b){return new Promise(function(d,f){b=g(b);var h=Module.EMSCallPDFNetFunction(A,b);h?f(Module.GetErrToString(h)):(f=Module.EMSGetLastResponse(A),f=a(f),d(f))})};f=Module._TRN_EMSFunctionIteratorGetNextCommandName(k);)if(f=
Module.GetJSStringFromCString(f),!q[f])b.onAsync(f,r);Module._TRN_EMSFunctionIteratorDestroy(k)}}})(self)},function(d,m,g){var q=g(0);d=g(3);var b=g.n(d),t=g(8),a=g(9),n=g(6);(function(d){function f(a){var b={};decodeURIComponent(a.slice(1)).split("&").forEach(function(a){a=a.split("=",2);b[a[0]]=a[1]});return b}var g=null;d.basePath="../";var m=function(){var a=d.pdfWorkerPath||"";d.workerBasePath&&(d.basePath=d.workerBasePath);var b=f(d.location.search),l="true"===b.isfull,g=l?"full/":"lean/";b.pdfWorkerPath&&
(a=b.pdfWorkerPath,d.basePath="../",Object(n.b)()||(a=""));d.basePath=b.externalPath?b.externalPath:d.basePath+"external/";Object(n.a)(a+g+"PDFNetC",{"Wasm.wasm":4E6,"Wasm.js.mem":1E5,".js.mem":6E6,".mem":l?2E6:3E5})};self.shouldResize||m();d.EmscriptenPDFManager=function(){};d.EmscriptenPDFManager.prototype={OnInitialized:function(a){Module.loaded?a():(Module.initCb=function(){a()},Object(q.b)("worker","PDFNet is not initialized yet!"))},NewDoc:function(a,b){return new Promise(function(d,f){try{d(Module.loadDoc(a,
b))}catch(z){f(z)}})},Initialize:function(a,b,f,g){a&&(Module.TOTAL_MEMORY=a);Module.memoryInitializerPrefixURL=b;Module.asmjsPrefix=f;d.basePath=g;m()},shouldRunRender:function(a){return Module.ShouldRunRender(a.docId,a.pageIndex+1)}};(function(a){function f(a){var b=a.data,c=a.action;var e="GetCanvas"===c||"GetCanvasPartial"===c?m.shouldRunRender(b):!0;if(e){g=a;var f=a.asyncCallCapability;Object(q.b)("Memory","Worker running command: "+c);n.actionMap[c](b,a).then(function(a){f.resolve(a)},function(a){f.reject(a)})}else d.deferredQueue.queue(a),
k()}function l(a){a.asyncCallCapability=createPromiseCapability();g?n.queue(a):f(a);return a.asyncCallCapability.promise}function h(b){self.shouldResize&&m.Initialize(b.options.workerHeapSize,b.options.pdfResourcePath,b.options.pdfAsmPath,b.options.parentUrl);Module.chunkMax=b.options.chunkMax;if(b.array instanceof Uint8Array){var e=255===b.array[0];a.postMessageTransfers=e;"response"in new XMLHttpRequest?m.OnInitialized(function(){d.SetupPDFNetFunctions(a);c();a.send("test",{supportTypedArray:!0,
supportTransfers:e})}):a.send("test",!1)}else a.send("test",!1)}function k(){t.a.setImmediate(function(){if(!g||"BeginOperation"!==g.action)if(n.length){if(!g||99999!==g.priority){var a=n.dequeue();f(a)}}else g=null})}var m=new d.EmscriptenPDFManager,n,r=!1,e=!1;Module.workerMessageHandler=a;var c=function(){r?e||(a.send("workerLoaded",{}),e=!0):r=!0};m.OnInitialized(c);(function(){d.queue=n=new b.a({strategy:b.a.ArrayStrategy,comparator:function(a,b){return a.priority===b.priority?a.callbackId-b.callbackId:
b.priority-a.priority}});d.deferredQueue=new b.a({strategy:b.a.ArrayStrategy,comparator:function(a,b){return a.priority===b.priority?a.callbackId-b.callbackId:b.priority-a.priority}});n.actionMap={};n.onAsync=function(b,c){a.onAsync(b,l);n.actionMap[b]=c}})();a.on("test",h);a.on("InitWorker",h);var p=function(a){g&&a(g)&&(Module.cancelCurrent(),g=null);n.removeAllMatching(a,function(a){a.asyncCallCapability.reject({type:"Cancelled",message:"Operation was cancelled due to document deletion."})})},
x=function(a){p(function(b){return b.data&&b.data.docId===a})};a.on("UpdatePassword",function(a){return Module.UpdatePassword(a.docId,a.password)});a.on("LoadRes",function(a){Module.loadResources(a.array,a.l);return{}});a.on("DownloaderHint",function(a){Module.DownloaderHint(a.docId,a.hint)});a.on("IsLinearized",function(a){return Module.IsLinearizationValid(a.docId)});a.onNextAsync(k);n.onAsync("NewDoc",function(a){return m.NewDoc(a)});n.onAsync("GetCanvas",function(a){Object(q.b)("workerdetails",
"Run GetCanvas PageIdx: "+a.pageIndex+" Width: "+a.width);Object(q.b)("Memory","loadCanvas with potential memory usage "+a.width*a.height*8);return Module.loadCanvas(a.docId,a.pageIndex,a.width,a.height,a.rotation,null,a.layers,a.overprintMode)});n.onAsync("GetCanvasPartial",function(a){Object(q.b)("Memory","GetCanvasPartial with potential memory usage "+a.width*a.height*8);return Module.loadCanvas(a.docId,a.pageIndex,a.width,a.height,a.rotation,a.bbox,a.layers,a.overprintMode)});n.onAsync("LoadText",
function(a){return Module.GetTextData(a.docId,a.pageIndex)});n.onAsync("SaveDoc",function(a){return Module.SaveDoc(a.docId,a.xfdfString,a.finishedWithDocument,a.printDocument,a.flags,a.watermarks)});n.onAsync("SaveDocFromFixedElements",function(a){return Module.SaveDocFromFixedElements(a.bytes,a.xfdfString,a.flags,a.watermarks)});n.onAsync("MergeXFDF",function(a){return Module.MergeXFDF(a.docId,a.xfdf)});n.onAsync("InsertPages",function(a){return Module.InsertPages(a.docId,a.doc,a.pageArray,a.destPos,
a.insertBookmarks)});n.onAsync("MovePages",function(a){return Module.MovePages(a.docId,a.pageArray,a.destPos)});n.onAsync("RemovePages",function(a){return Module.RemovePages(a.docId,a.pageArray)});n.onAsync("RotatePages",function(a){return Module.RotatePages(a.docId,a.pageArray,a.rotation)});n.onAsync("ExtractPages",function(a){return Module.ExtractPages(a.docId,a.pageArray,a.xfdfString,a.watermarks)});n.onAsync("CropPages",function(a){return Module.CropPages(a.docId,a.pageArray,a.topMargin,a.botMargin,
a.leftMargin,a.rightMargin)});n.onAsync("InsertBlankPages",function(a){return Module.InsertBlankPages(a.docId,a.pageArray,a.width,a.height)});n.onAsync("BeginOperation",function(){return Promise.resolve()});n.onAsync("RequirePage",function(a,b){return Module.RequirePage(a.docId,a.pageNum)});a.on("FinishOperation",function(){if("BeginOperation"===g.action)a.onNextAsync(k),Module.cancelCurrent(),g=null;else throw{message:"Operation has not started."};});a.on("DeleteDocument",function(a){a=a.docId;x(a);
Module.DeleteDoc(a)});a.on("LoadBookmarks",function(a){return Module.LoadBookmarks(a.docId)});a.on("GetCanvasProgressive",function(a){if(g&&g.callbackId===a.callbackId){Object(q.b)("worker","Progressive request in progress");var b=Module.GetCurrentCanvasData(!0)}else{if(n.find({priority:0,callbackId:a.callbackId}))throw Object(q.b)("worker","Progressive request Queued"),{type:"Queued",message:"Rendering has not started yet."};if(d.deferredQueue.find({priority:0,callbackId:a.callbackId}))throw Object(q.b)("worker",
"Progressive request Deferred"),{type:"Queued",message:"Rendering has not started yet."};}if(!b)throw Object(q.b)("worker","Progressive request invalid (render already complete)"),{type:"Unavailable",message:"Rendering is complete or was cancelled."};return b});a.on("actionCancel",function(a){g&&g.callbackId===a.callbackId?(Object(q.b)("workerdetails","Cancelled Current Operation"),Module.cancelCurrent()&&k()):(Object(q.b)("workerdetails","Cancelled queued operation"),n.remove({priority:0,callbackId:a.callbackId}),
d.deferredQueue.remove({priority:0,callbackId:a.callbackId}))})})(new a.a("worker_processor",self))})("undefined"===typeof window?self:window)}]);}).call(this || window)
